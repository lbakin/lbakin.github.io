{"ast":null,"code":"import React, { Component } from 'react';\nimport RAFManager from 'raf-manager';\nimport Proton from 'proton-engine';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\nvar classCallCheck = function classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar inherits = function inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n};\n\nvar possibleConstructorReturn = function possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}; // Code source from here, thanks author\n// https://github.com/drawcall/Proton/blob/gh-pages/source/src/utils/Rand.js\n\n\nvar Rand = function () {\n  function Rand() {\n    classCallCheck(this, Rand);\n    this.list = [];\n  }\n\n  createClass(Rand, [{\n    key: \"set\",\n    value: function set$$1(probability, target) {\n      this.list.push({\n        probability: probability,\n        target: target,\n        a: 0,\n        b: 1\n      });\n      this.calculation();\n    }\n  }, {\n    key: \"calculation\",\n    value: function calculation() {\n      var total = 0;\n\n      for (var i = 0; i < this.list.length; i++) {\n        total += this.list[i].probability;\n      }\n\n      for (var _i = 0; _i < this.list.length; _i++) {\n        var obj = this.list[_i];\n        var val = obj.probability / total;\n        obj.a = _i === 0 ? 0 : this.list[_i - 1].b;\n        obj.b = obj.a + val;\n      }\n    }\n  }, {\n    key: \"getResult\",\n    value: function getResult() {\n      var val = Math.random();\n\n      for (var i = 0; i < this.list.length; i++) {\n        var obj = this.list[i];\n\n        if (val <= obj.b && val > obj.a) {\n          return obj.target;\n        }\n      }\n\n      return this.list[0].target;\n    }\n  }]);\n  return Rand;\n}();\n\nvar Canvas = function (_React$Component) {\n  inherits(Canvas, _React$Component);\n\n  function Canvas(props) {\n    classCallCheck(this, Canvas);\n\n    var _this = possibleConstructorReturn(this, (Canvas.__proto__ || Object.getPrototypeOf(Canvas)).call(this, props));\n\n    _this._iid = 0;\n    _this._oid = 0;\n    _this.size = {\n      width: 0,\n      height: 0\n    };\n    _this.canvasRef = React.createRef();\n    return _this;\n  }\n\n  createClass(Canvas, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this._oid = setTimeout(function () {\n        _this2.initCanvas();\n\n        _this2.resize = _this2.resize.bind(_this2);\n        window.addEventListener(\"resize\", _this2.resize);\n      }, 100);\n      var canvas = this.getCanvas();\n      this.props.onCanvasDidMount && this.props.onCanvasDidMount(canvas);\n    }\n  }, {\n    key: \"initCanvas\",\n    value: function initCanvas() {\n      var canvas = this.getCanvas();\n\n      if (this.props.globalCompositeOperation) {\n        var context = canvas.getContext(\"2d\");\n        context.globalCompositeOperation = this.props.globalCompositeOperation;\n      }\n\n      var _setCanvasSize = this.setCanvasSize(canvas),\n          width = _setCanvasSize.width,\n          height = _setCanvasSize.height;\n\n      this.heartbeatDetectionCanvasSize(canvas);\n      this.props.onCanvasInited(canvas, width, height);\n    }\n  }, {\n    key: \"getCanvas\",\n    value: function getCanvas() {\n      var canvas = this.canvasRef.current;\n      return canvas;\n    }\n  }, {\n    key: \"heartbeatDetectionCanvasSize\",\n    value: function heartbeatDetectionCanvasSize(canvas) {\n      var _this3 = this;\n\n      this._iid = setInterval(function () {\n        if (_this3.canvasRef.current) {\n          var newHeight = _this3.canvasRef.current.clientHeight;\n\n          if (newHeight !== _this3.size.height) {\n            var _setCanvasSize2 = _this3.setCanvasSize(canvas),\n                width = _setCanvasSize2.width,\n                height = _setCanvasSize2.height;\n\n            _this3.props.onResize && _this3.props.onResize(width, height);\n          }\n        }\n      }, 1000 / 10);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      try {\n        window.removeEventListener(\"resize\", this.resize);\n        clearInterval(this._iid);\n        clearTimeout(this._oid);\n      } catch (e) {}\n    }\n  }, {\n    key: \"resize\",\n    value: function resize() {\n      var canvas = this.getCanvas();\n\n      var _setCanvasSize3 = this.setCanvasSize(canvas),\n          width = _setCanvasSize3.width,\n          height = _setCanvasSize3.height;\n\n      this.props.onResize && this.props.onResize(width, height);\n    }\n  }, {\n    key: \"setCanvasSize\",\n    value: function setCanvasSize(canvas) {\n      var width = this.canvasRef.current.clientWidth;\n      var height = this.canvasRef.current.clientHeight;\n      this.size.width = width;\n      this.size.height = height;\n      canvas.width = width;\n      canvas.height = height;\n      return {\n        width: width,\n        height: height\n      };\n    }\n  }, {\n    key: \"handleWaypointEnter\",\n    value: function handleWaypointEnter() {\n      RAFManager.start();\n    }\n  }, {\n    key: \"handleWaypointLeave\",\n    value: function handleWaypointLeave() {\n      RAFManager.stop();\n    }\n  }, {\n    key: \"getStyle\",\n    value: function getStyle() {\n      var bg = this.props.bg;\n      var style = {\n        width: \"100%\",\n        height: \"100%\"\n      };\n\n      if (bg === true) {\n        style = Object.assign(style, {\n          position: \"absolute\",\n          zIndex: -1,\n          top: 0,\n          left: 0\n        });\n      } else if (bg && (typeof bg === \"undefined\" ? \"undefined\" : _typeof(bg)) === \"object\") {\n        style = Object.assign(style, bg);\n      }\n\n      return style;\n    }\n  }, {\n    key: \"handleMouseDown\",\n    value: function handleMouseDown(e) {\n      this.props.onMouseDown && this.props.onMouseDown(e);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"canvas\", {\n        className: \"particles-bg-canvas-self\",\n        ref: this.canvasRef,\n        onMouseDown: this.handleMouseDown.bind(this),\n        style: this.getStyle()\n      });\n    }\n  }]);\n  return Canvas;\n}(React.Component);\n\nfunction hexToRgb(hex) {\n  var result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n  return result ? {\n    r: parseInt(result[1], 16),\n    g: parseInt(result[2], 16),\n    b: parseInt(result[3], 16)\n  } : {};\n}\n\nfunction getColor(color, a) {\n  var c = void 0;\n\n  if (color) {\n    c = hexToRgb(color);\n    return \"rgba(\" + c.r + \",\" + c.g + \",\" + c.b + \", \" + a + \")\";\n  } else {\n    return null;\n  }\n}\n\nvar Ball = function (_React$Component) {\n  inherits(Ball, _React$Component);\n\n  function Ball(props) {\n    classCallCheck(this, Ball);\n\n    var _this = possibleConstructorReturn(this, (Ball.__proto__ || Object.getPrototypeOf(Ball)).call(this, props));\n\n    _this.renderProton = _this.renderProton.bind(_this);\n    return _this;\n  }\n\n  createClass(Ball, [{\n    key: \"onCanvasInited\",\n    value: function onCanvasInited(canvas, width, height) {\n      this.createProton(canvas, width, height);\n      this.createMiniEmitter(canvas);\n      RAFManager.add(this.renderProton);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      try {\n        RAFManager.remove(this.renderProton);\n        this.proton.destroy();\n      } catch (e) {}\n    }\n  }, {\n    key: \"onResize\",\n    value: function onResize() {}\n  }, {\n    key: \"createProton\",\n    value: function createProton(canvas, width, height) {\n      var _this2 = this;\n\n      var context = canvas.getContext(\"2d\");\n      this.proton = new Proton();\n      var emitter = new Proton.Emitter();\n      emitter.rate = new Proton.Rate(this.props.num ? new Proton.Span(this.props.num) : new Proton.Span(4, 9), new Proton.Span(0.8, 1.3));\n      emitter.addInitialize(new Proton.Mass(1));\n      emitter.addInitialize(new Proton.Radius(1, 50));\n      emitter.addInitialize(new Proton.Life(5, 6));\n      emitter.addInitialize(new Proton.Velocity(new Proton.Span(5, 8), new Proton.Span(30, 70), \"polar\"));\n      emitter.addBehaviour(new Proton.Alpha(1, 0));\n      emitter.addBehaviour(new Proton.Color([\"#36aaf3\", \"#fd769c\", \"#94ff22\", \"#ffa545\", \"#ffffff\"]));\n      emitter.addBehaviour(new Proton.Scale(0.7, 1));\n      emitter.addBehaviour(new Proton.Gravity(3));\n      emitter.addBehaviour(new Proton.Collision(emitter));\n      emitter.addBehaviour(this.customDeadBehaviour(canvas));\n      emitter.addBehaviour(new Proton.CrossZone(new Proton.RectZone(0, 0, canvas.width, canvas.height), \"bound\"));\n      emitter.p.x = Math.min(500, Math.max(canvas.width / 2 - 400, 50));\n      emitter.p.y = canvas.height / 2 + 50;\n      emitter.emit();\n      this.proton.addEmitter(emitter);\n      var renderer = new Proton.CanvasRenderer(canvas);\n\n      renderer.onProtonUpdate = function () {\n        context.fillStyle = getColor(_this2.props.color, 0.2) || \"rgba(255, 255, 255, 0.2)\";\n        context.fillRect(0, 0, canvas.width, canvas.height);\n      };\n\n      this.proton.addRenderer(renderer);\n    }\n  }, {\n    key: \"customDeadBehaviour\",\n    value: function customDeadBehaviour(canvas) {\n      var _this3 = this;\n\n      return {\n        initialize: function initialize(particle) {},\n        applyBehaviour: function applyBehaviour(particle) {\n          if (particle.p.y + particle.radius >= canvas.height) {\n            if (particle.radius > 9) {\n              _this3.miniEmitteing(particle);\n\n              particle.dead = true;\n            }\n          }\n        }\n      };\n    }\n  }, {\n    key: \"createMiniEmitter\",\n    value: function createMiniEmitter(canvas) {\n      var miniEmitter = new Proton.Emitter();\n      miniEmitter.rate = new Proton.Rate(new Proton.Span(3, 6), new Proton.Span(1, 2));\n      miniEmitter.addInitialize(new Proton.Mass(1));\n      miniEmitter.radiusInitialize = new Proton.Radius();\n      miniEmitter.addInitialize(miniEmitter.radiusInitialize);\n      miniEmitter.addInitialize(new Proton.Life(0.5, 1));\n      miniEmitter.addInitialize(new Proton.V(new Proton.Span(1.5, 3), new Proton.Span(0, 70, true), \"polar\"));\n      miniEmitter.colorBehaviour = new Proton.Color(\"#ffffff\");\n      miniEmitter.addBehaviour(new Proton.Alpha(1, 0));\n      miniEmitter.addBehaviour(miniEmitter.colorBehaviour);\n      miniEmitter.addBehaviour(new Proton.Gravity(4));\n      miniEmitter.addBehaviour(new Proton.Collision(miniEmitter));\n      miniEmitter.addBehaviour(new Proton.CrossZone(new Proton.RectZone(0, 0, canvas.width, canvas.height), \"bound\"));\n      this.proton.addEmitter(miniEmitter);\n      this.miniEmitter = miniEmitter;\n    }\n  }, {\n    key: \"miniEmitteing\",\n    value: function miniEmitteing(particle) {\n      var miniEmitter = this.miniEmitter;\n      miniEmitter.radiusInitialize.reset(particle.radius * 0.05, particle.radius * 0.2);\n      miniEmitter.colorBehaviour.reset(particle.color);\n      miniEmitter.p.x = particle.p.x;\n      miniEmitter.p.y = particle.p.y;\n      miniEmitter.emit(\"once\");\n    }\n  }, {\n    key: \"renderProton\",\n    value: function renderProton() {\n      this.proton && this.proton.update();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(Canvas, {\n        bg: this.props.bg,\n        globalCompositeOperation: \"darker\",\n        onCanvasInited: this.onCanvasInited.bind(this),\n        onResize: this.onResize.bind(this)\n      });\n    }\n  }]);\n  return Ball;\n}(React.Component);\n\nvar Color = function (_React$Component) {\n  inherits(Color, _React$Component);\n\n  function Color(props) {\n    classCallCheck(this, Color);\n\n    var _this = possibleConstructorReturn(this, (Color.__proto__ || Object.getPrototypeOf(Color)).call(this, props));\n\n    _this.colors = [\"#529B88\", \"#CDD180\", \"#FFFA32\", \"#FB6255\", \"#FB4A53\", \"#FF4E50\", \"#F9D423\"];\n    _this.renderProton = _this.renderProton.bind(_this);\n    return _this;\n  }\n\n  createClass(Color, [{\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      try {\n        RAFManager.remove(this.renderProton);\n        this.proton.destroy();\n      } catch (e) {}\n    }\n  }, {\n    key: \"onCanvasInited\",\n    value: function onCanvasInited(canvas, width, height) {\n      this.createProton(canvas, width, height);\n      RAFManager.add(this.renderProton);\n    }\n  }, {\n    key: \"onResize\",\n    value: function onResize() {}\n  }, {\n    key: \"createProton\",\n    value: function createProton(canvas, width, height) {\n      this.proton = new Proton();\n      var emitter = new Proton.Emitter();\n      emitter.rate = new Proton.Rate(this.props.num ? new Proton.Span(this.props.num) : new Proton.Span(5, 8), new Proton.Span(0.1, 0.25));\n      emitter.addInitialize(new Proton.Mass(1));\n      emitter.addInitialize(new Proton.Radius(20, 200));\n      emitter.addInitialize(new Proton.Life(2, 4));\n      emitter.addInitialize(new Proton.Position(new Proton.RectZone(0, 0, width, height)));\n      emitter.addBehaviour(new Proton.Alpha(0, 1, Infinity, Proton.easeOutCubic));\n      emitter.addBehaviour(new Proton.Scale(1, 0, Infinity, Proton.easeOutCubic));\n      emitter.addBehaviour(new Proton.Color(this.colors, \"random\"));\n      emitter.emit();\n      this.proton.addEmitter(emitter);\n      var renderer = new Proton.CanvasRenderer(canvas);\n      this.proton.addRenderer(renderer);\n    }\n  }, {\n    key: \"renderProton\",\n    value: function renderProton() {\n      this.proton && this.proton.update();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(Canvas, {\n        bg: this.props.bg,\n        globalCompositeOperation: \"darker\",\n        onCanvasInited: this.onCanvasInited.bind(this),\n        onResize: this.onResize.bind(this)\n      });\n    }\n  }]);\n  return Color;\n}(React.Component);\n\nvar Color$1 = function (_React$Component) {\n  inherits(Color, _React$Component);\n\n  function Color(props) {\n    classCallCheck(this, Color);\n\n    var _this = possibleConstructorReturn(this, (Color.__proto__ || Object.getPrototypeOf(Color)).call(this, props));\n\n    _this.colors = [\"#529B88\", \"#CDD180\", \"#FFFA32\", \"#FB6255\", \"#FB4A53\", \"#FF4E50\", \"#F9D423\"];\n    _this.renderProton = _this.renderProton.bind(_this);\n    return _this;\n  }\n\n  createClass(Color, [{\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      try {\n        RAFManager.remove(this.renderProton);\n        this.proton.destroy();\n      } catch (e) {}\n    }\n  }, {\n    key: \"onCanvasInited\",\n    value: function onCanvasInited(canvas, width, height) {\n      this.createProton(canvas, width, height);\n      RAFManager.add(this.renderProton);\n    }\n  }, {\n    key: \"onResize\",\n    value: function onResize(width, height) {\n      this.crossZoneBehaviour.zone.width = width;\n      this.crossZoneBehaviour.zone.height = height;\n      this.proton.renderers[0].resize(width, height);\n    }\n  }, {\n    key: \"getProp\",\n    value: function getProp(key, defaultVal) {\n      var config = this.props.config || {};\n      var val = config[key] || defaultVal;\n\n      if (Array.isArray(val)) {\n        return new Proton.Span(val[0], val[1]);\n      } else {\n        return val;\n      }\n    }\n  }, {\n    key: \"getArrProp\",\n    value: function getArrProp(key, defaultVal) {\n      var config = this.props.config || {};\n      var val = config[key] || defaultVal;\n      if (!val) return null;\n\n      if (Array.isArray(val)) {\n        return val;\n      } else {\n        return [val, val];\n      }\n    }\n  }, {\n    key: \"createProton\",\n    value: function createProton(canvas, width, height) {\n      var num = this.getProp(\"num\", [5, 8]);\n      var rps = this.getProp(\"rps\", [0.1, 0.2]);\n      var mass = this.getProp(\"mass\", 1);\n      var radius = this.getProp(\"radius\", [10, 30]);\n      var life = this.getProp(\"life\", [2, 3]);\n      var body = this.getProp(\"body\");\n      var position = this.getProp(\"position\");\n      var v = this.getProp(\"v\", [2, 3]);\n      var tha = this.getProp(\"tha\", [-15, 15]);\n      var alpha = this.getArrProp(\"alpha\");\n      var scale = this.getArrProp(\"scale\");\n      var color = this.getArrProp(\"color\");\n      var cross = this.getProp(\"cross\", \"dead\");\n      var random = this.getProp(\"random\");\n      var rotate = this.getArrProp(\"rotate\");\n      var g = this.getProp(\"g\");\n      var f = this.getArrProp(\"f\");\n      var emitterV = this.getProp(\"emitter\");\n      this.proton = new Proton();\n      var emitter = void 0;\n\n      if (emitterV === \"follow\") {\n        emitter = new Proton.FollowEmitter();\n      } else {\n        emitter = new Proton.Emitter();\n      }\n\n      emitter.rate = new Proton.Rate(num, rps);\n      emitter.addInitialize(new Proton.Mass(mass));\n      emitter.addInitialize(new Proton.Radius(radius));\n      emitter.addInitialize(new Proton.Life(life));\n      emitter.addInitialize(new Proton.Velocity(v, tha, \"polar\"));\n      if (body) emitter.addInitialize(new Proton.Body(body));\n      var pos = void 0;\n\n      if (position === \"all\" || position === \"screen\") {\n        pos = new Proton.Position(new Proton.RectZone(0, 0, canvas.width, canvas.height));\n      } else if ((typeof position === \"undefined\" ? \"undefined\" : _typeof(position)) === \"object\") {\n        pos = new Proton.Position(new Proton.RectZone(position.x, position.y, position.width, position.height));\n      } else {\n        emitter.p.x = canvas.width / 2;\n        emitter.p.y = canvas.height / 2;\n      }\n\n      emitter.addInitialize(pos); /// behaviour\n\n      var alphaB = alpha ? new Proton.Alpha(alpha[0], alpha[1]) : new Proton.Alpha(0, 1);\n      var scaleB = scale ? new Proton.Scale(scale[0], scale[1]) : new Proton.Scale(1, 0.2);\n      var colorB = color ? new Proton.Color(color[0], color[1]) : new Proton.Color(this.colors);\n      emitter.addBehaviour(alphaB);\n      emitter.addBehaviour(scaleB);\n      if (!body) emitter.addBehaviour(colorB);\n\n      if (rotate) {\n        if (rotate[0] === true || rotate[0] === \"rotate\") {\n          emitter.addBehaviour(new Proton.Rotate());\n        } else {\n          emitter.addBehaviour(new Proton.Rotate(rotate[0], rotate[1]));\n        }\n      }\n\n      var zone = new Proton.RectZone(0, 0, canvas.width, canvas.height);\n      var crossZoneBehaviour = new Proton.CrossZone(zone, cross);\n      emitter.addBehaviour(crossZoneBehaviour);\n      random && emitter.addBehaviour(new Proton.RandomDrift(random, random, 0.05));\n      g && emitter.addBehaviour(new Proton.G(g));\n      f && emitter.addBehaviour(new Proton.F(f[0], f[1]));\n      emitter.emit();\n      this.proton.addEmitter(emitter);\n      var renderer = this.createRenderer(canvas);\n      this.proton.addRenderer(renderer);\n      this.emitter = emitter;\n      this.crossZoneBehaviour = crossZoneBehaviour;\n    }\n  }, {\n    key: \"createRenderer\",\n    value: function createRenderer(canvas) {\n      var width = canvas.width;\n      var height = canvas.height;\n      var context = canvas.getContext(\"2d\");\n      var renderer = new Proton.CanvasRenderer(canvas);\n      var onUpdate = this.getProp(\"onUpdate\");\n\n      if (onUpdate) {\n        renderer.onProtonUpdate = function () {\n          onUpdate(context, width, height);\n        };\n      }\n\n      var onParticleCreated = this.getProp(\"onParticleCreated\");\n\n      if (onParticleCreated) {\n        renderer.onParticleCreated = function (particle) {\n          onParticleCreated(context, particle);\n        };\n      }\n\n      var onParticleUpdate = this.getProp(\"onParticleUpdate\");\n\n      if (onParticleUpdate) {\n        renderer.onParticleUpdate = function (particle) {\n          onParticleUpdate(context, particle);\n        };\n      }\n\n      return renderer;\n    }\n  }, {\n    key: \"renderProton\",\n    value: function renderProton() {\n      this.proton && this.proton.update();\n    }\n  }, {\n    key: \"handleMouseDown\",\n    value: function handleMouseDown(e) {\n      var onMouseDown = this.getProp(\"onMouseDown\");\n\n      if (onMouseDown) {\n        onMouseDown(e);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var globalCompositeOperation = this.props.globalCompositeOperation || this.props.operation || \"source-over\";\n      return React.createElement(Canvas, {\n        bg: this.props.bg,\n        onMouseDown: this.handleMouseDown.bind(this),\n        globalCompositeOperation: globalCompositeOperation,\n        onCanvasInited: this.onCanvasInited.bind(this),\n        onResize: this.onResize.bind(this)\n      });\n    }\n  }]);\n  return Color;\n}(React.Component);\n\nvar Lines = function (_React$Component) {\n  inherits(Lines, _React$Component);\n\n  function Lines(props) {\n    classCallCheck(this, Lines);\n\n    var _this = possibleConstructorReturn(this, (Lines.__proto__ || Object.getPrototypeOf(Lines)).call(this, props));\n\n    _this.renderProton = _this.renderProton.bind(_this);\n    return _this;\n  }\n\n  createClass(Lines, [{\n    key: \"onCanvasDidMount\",\n    value: function onCanvasDidMount(canvas) {\n      if (this.props.color) {\n        canvas.style.backgroundColor = this.props.color;\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      try {\n        RAFManager.remove(this.renderProton);\n        this.proton.destroy();\n      } catch (e) {}\n    }\n  }, {\n    key: \"onCanvasInited\",\n    value: function onCanvasInited(canvas, width, height) {\n      this.createProton(canvas, width, height);\n      RAFManager.add(this.renderProton);\n    }\n  }, {\n    key: \"onResize\",\n    value: function onResize(width, height) {\n      this.crossZoneBehaviour.zone.width = width;\n      this.crossZoneBehaviour.zone.height = height;\n      this.proton.renderers[0].resize(width, height);\n    }\n  }, {\n    key: \"createProton\",\n    value: function createProton(canvas, width, height) {\n      this.proton = new Proton();\n      var emitter = new Proton.Emitter();\n      emitter.damping = 0.008;\n      emitter.rate = new Proton.Rate(this.props.num ? this.props.num : 250);\n      emitter.addInitialize(new Proton.Mass(1));\n      emitter.addInitialize(new Proton.Radius(4));\n      emitter.addInitialize(new Proton.Velocity(new Proton.Span(1.5), new Proton.Span(0, 360), \"polar\"));\n      var mouseObj = {\n        x: width / 2,\n        y: height / 2\n      };\n      var attractionBehaviour = new Proton.Attraction(mouseObj, 0, 0);\n      var crossZoneBehaviour = new Proton.CrossZone(new Proton.RectZone(0, 0, canvas.width, canvas.height), \"cross\");\n      emitter.addBehaviour(new Proton.Color(\"random\"));\n      emitter.addBehaviour(attractionBehaviour, crossZoneBehaviour);\n      emitter.addBehaviour(new Proton.RandomDrift(10, 10, 0.05));\n      emitter.p.x = canvas.width / 2;\n      emitter.p.y = canvas.height / 2;\n      emitter.emit(\"once\");\n      this.proton.addEmitter(emitter);\n      this.proton.addRenderer(this.createRenderer(canvas));\n      this.crossZoneBehaviour = crossZoneBehaviour;\n    }\n  }, {\n    key: \"createRenderer\",\n    value: function createRenderer(canvas) {\n      var _this2 = this;\n\n      var context = canvas.getContext(\"2d\");\n      var renderer = new Proton.CanvasRenderer(canvas);\n\n      renderer.onProtonUpdate = function () {\n        context.fillStyle = getColor(_this2.props.color, 0.02) || \"rgba(0, 0, 0, 0.02)\";\n        context.fillRect(0, 0, canvas.width, canvas.height);\n      };\n\n      renderer.onParticleUpdate = function (particle) {\n        context.beginPath();\n        context.strokeStyle = particle.color;\n        context.lineWidth = 1;\n        context.moveTo(particle.old.p.x, particle.old.p.y);\n        context.lineTo(particle.p.x, particle.p.y);\n        context.closePath();\n        context.stroke();\n      };\n\n      return renderer;\n    }\n  }, {\n    key: \"renderProton\",\n    value: function renderProton() {\n      this.proton && this.proton.update();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(Canvas, {\n        bg: this.props.bg,\n        globalCompositeOperation: \"darker\",\n        onCanvasDidMount: this.onCanvasDidMount.bind(this),\n        onCanvasInited: this.onCanvasInited.bind(this),\n        onResize: this.onResize.bind(this)\n      });\n    }\n  }]);\n  return Lines;\n}(React.Component);\n\nvar Thick = function (_React$Component) {\n  inherits(Thick, _React$Component);\n\n  function Thick(props) {\n    classCallCheck(this, Thick);\n\n    var _this = possibleConstructorReturn(this, (Thick.__proto__ || Object.getPrototypeOf(Thick)).call(this, props));\n\n    _this.hue = 0;\n    _this.index = 0;\n    _this.colorTemplate = \"hsla(hue,80%,50%, 0.75)\";\n    _this.renderProton = _this.renderProton.bind(_this);\n    return _this;\n  }\n\n  createClass(Thick, [{\n    key: \"onCanvasDidMount\",\n    value: function onCanvasDidMount(canvas) {\n      if (this.props.color) {\n        canvas.style.backgroundColor = this.props.color;\n      }\n    }\n  }, {\n    key: \"onCanvasInited\",\n    value: function onCanvasInited(canvas, width, height) {\n      this.canvas = canvas;\n      this.createProton(canvas, width, height);\n      RAFManager.add(this.renderProton);\n    }\n  }, {\n    key: \"onResize\",\n    value: function onResize(width, height) {\n      this.crossZoneBehaviour.zone.width = width;\n      this.crossZoneBehaviour.zone.height = height;\n      this.proton.renderers[0].resize(width, height);\n    }\n  }, {\n    key: \"createProton\",\n    value: function createProton(canvas, width, height) {\n      this.proton = new Proton();\n      var emitter = new Proton.Emitter();\n      emitter.damping = 0.008;\n      emitter.rate = new Proton.Rate(this.props.num ? this.props.num : 150); // Initialize\n\n      emitter.addInitialize(new Proton.Mass(1));\n      emitter.addInitialize(new Proton.Radius(8));\n      emitter.addInitialize(new Proton.V(new Proton.Span(0.1, 0.5), new Proton.Span(0, 360), \"polar\"));\n      emitter.addInitialize(new Proton.Position(new Proton.CircleZone(canvas.width / 2, canvas.height / 2, 100))); // Behaviour\n\n      var crossZoneBehaviour = new Proton.CrossZone(new Proton.RectZone(0, 0, canvas.width, canvas.height), \"cross\");\n      emitter.addBehaviour(crossZoneBehaviour);\n      this.repulsion = new Proton.Repulsion({\n        x: canvas.width / 2,\n        y: canvas.height / 2 - 100\n      }, 3, 300);\n      this.attraction = new Proton.Attraction({\n        x: canvas.width / 2,\n        y: canvas.height / 2\n      }, 3, 200);\n      emitter.addBehaviour(this.attraction, this.repulsion);\n      emitter.addBehaviour(new Proton.Color(\"random\"));\n      emitter.addBehaviour(new Proton.RandomDrift(20, 15, 0.15));\n      emitter.emit(\"once\");\n      this.proton.addEmitter(emitter);\n      this.proton.addRenderer(this.createRenderer(canvas));\n      this.crossZoneBehaviour = crossZoneBehaviour;\n    }\n  }, {\n    key: \"createRenderer\",\n    value: function createRenderer(canvas) {\n      var _this2 = this;\n\n      var context = canvas.getContext(\"2d\");\n      var renderer = new Proton.CanvasRenderer(canvas);\n\n      renderer.onProtonUpdate = function () {\n        _this2.hue += 1;\n        context.fillStyle = getColor(_this2.props.color, 0.02) || \"rgba(0, 0, 0, 0.02)\";\n        context.fillRect(0, 0, canvas.width, canvas.height);\n      };\n\n      renderer.onParticleCreated = function (particle) {\n        particle.data.begin = Proton.MathUtil.randomAToB(1, 120);\n        particle.data.tha = Proton.MathUtil.randomAToB(0, Math.PI * 2);\n      };\n\n      renderer.onParticleUpdate = function (particle) {\n        var hue = particle.data.begin + _this2.hue;\n        particle.color = _this2.colorTemplate.replace(\"hue\", hue % 360);\n        var ratio = 3 / 4;\n        var radius = particle.radius * (1 - ratio) * Math.cos(particle.data.tha += 0.01) + particle.radius * ratio;\n        context.beginPath();\n        context.fillStyle = particle.color;\n        context.arc(particle.p.x, particle.p.y, radius, 0, Math.PI * 2, true);\n        context.closePath();\n        context.fill();\n      };\n\n      return renderer;\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      try {\n        RAFManager.remove(this.renderProton);\n        this.proton.destroy();\n      } catch (e) {}\n    }\n  }, {\n    key: \"renderProton\",\n    value: function renderProton() {\n      var canvas = this.canvas;\n      this.proton.update();\n\n      if (this.index % 200 === 0) {\n        this.attraction.targetPosition.x = Math.random() * canvas.width;\n        this.attraction.targetPosition.y = Math.random() * canvas.height;\n        this.repulsion.targetPosition.x = Math.random() * canvas.width;\n        this.repulsion.targetPosition.y = Math.random() * canvas.height;\n      }\n\n      this.index++;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(Canvas, {\n        bg: this.props.bg,\n        onCanvasDidMount: this.onCanvasDidMount.bind(this),\n        onCanvasInited: this.onCanvasInited.bind(this),\n        onResize: this.onResize.bind(this)\n      });\n    }\n  }]);\n  return Thick;\n}(React.Component);\n\nvar Square = function (_React$Component) {\n  inherits(Square, _React$Component);\n\n  function Square(props) {\n    classCallCheck(this, Square);\n\n    var _this = possibleConstructorReturn(this, (Square.__proto__ || Object.getPrototypeOf(Square)).call(this, props));\n\n    _this.colors = [\"#fad390\", \"#81ecec\", \"#ffffff\", \"#badc58\", \"#f9ca24\", \"#FEA47F\"];\n    _this.renderProton = _this.renderProton.bind(_this);\n    return _this;\n  }\n\n  createClass(Square, [{\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      try {\n        RAFManager.remove(this.renderProton);\n        this.proton.destroy();\n      } catch (e) {}\n    }\n  }, {\n    key: \"onCanvasDidMount\",\n    value: function onCanvasDidMount(canvas) {}\n  }, {\n    key: \"onCanvasInited\",\n    value: function onCanvasInited(canvas, width, height) {\n      this.createProton(canvas, width, height);\n      RAFManager.add(this.renderProton);\n    }\n  }, {\n    key: \"onResize\",\n    value: function onResize(width, height) {\n      var dis = 150;\n      this.crossZoneBehaviour.zone.width = width + 2 * dis;\n      this.crossZoneBehaviour.zone.height = height + 2 * dis;\n      this.proton.renderers[0].resize(width, height);\n    }\n  }, {\n    key: \"createProton\",\n    value: function createProton(canvas, width, height) {\n      this.proton = new Proton();\n      var emitter = new Proton.Emitter();\n      emitter.rate = new Proton.Rate(this.props.num ? this.props.num : 50);\n      emitter.damping = 0;\n      emitter.addInitialize(new Proton.Mass(1));\n      emitter.addInitialize(new Proton.Radius(4, 70));\n      emitter.addInitialize(new Proton.Velocity(new Proton.Span(2, 10), new Proton.Span(0), \"polar\"));\n      emitter.addInitialize(new Proton.Position(new Proton.LineZone(0, canvas.height, canvas.width, canvas.height)));\n      var dis = 150;\n      var crossZoneBehaviour = new Proton.CrossZone(new Proton.RectZone(0 - dis, 0 - dis, canvas.width + 2 * dis, canvas.height + 2 * dis), \"cross\");\n      emitter.addBehaviour(crossZoneBehaviour);\n      emitter.addBehaviour(new Proton.Alpha(Proton.getSpan(0.1, 0.55)));\n      emitter.addBehaviour(new Proton.Color(this.colors));\n      emitter.emit(\"once\");\n      this.proton.addEmitter(emitter);\n      var renderer = this.createRenderer(canvas);\n      this.proton.addRenderer(renderer);\n      this.crossZoneBehaviour = crossZoneBehaviour;\n      emitter.preEmit(2);\n    }\n  }, {\n    key: \"createRenderer\",\n    value: function createRenderer(canvas) {\n      var context = canvas.getContext(\"2d\");\n      var renderer = new Proton.CustomRenderer();\n\n      renderer.onProtonUpdate = function () {\n        context.clearRect(0, 0, canvas.width, canvas.height);\n      };\n\n      renderer.onParticleCreated = function (particle) {\n        var w = particle.radius || 60;\n        var h = Proton.MathUtil.randomAToB(100, 200, \"int\");\n        particle.data.w = w;\n        particle.data.h = h;\n      };\n\n      renderer.onParticleUpdate = function (particle) {\n        var w = particle.data.w;\n        var h = particle.data.h;\n        context.save();\n        context.globalAlpha = particle.alpha;\n        context.fillStyle = particle.color;\n        context.translate(particle.p.x, particle.p.y);\n        context.rotate(Proton.MathUtil.degreeTransform(particle.rotation));\n        context.translate(-particle.p.x, -particle.p.y);\n        context.beginPath();\n        context.rect(particle.p.x - w / 2, particle.p.y - h / 2, w, h);\n        context.closePath();\n        context.fill();\n        context.globalAlpha = 1;\n        context.restore();\n      };\n\n      return renderer;\n    }\n  }, {\n    key: \"renderProton\",\n    value: function renderProton() {\n      this.proton && this.proton.update();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(Canvas, {\n        bg: this.props.bg,\n        globalCompositeOperation: \"lighter\",\n        onCanvasDidMount: this.onCanvasDidMount.bind(this),\n        onCanvasInited: this.onCanvasInited.bind(this),\n        onResize: this.onResize.bind(this)\n      });\n    }\n  }]);\n  return Square;\n}(React.Component);\n\nvar Cobweb = function (_React$Component) {\n  inherits(Cobweb, _React$Component);\n\n  function Cobweb(props) {\n    classCallCheck(this, Cobweb);\n\n    var _this = possibleConstructorReturn(this, (Cobweb.__proto__ || Object.getPrototypeOf(Cobweb)).call(this, props));\n\n    _this.renderProton = _this.renderProton.bind(_this);\n    return _this;\n  }\n\n  createClass(Cobweb, [{\n    key: \"onCanvasInited\",\n    value: function onCanvasInited(canvas, width, height) {\n      this.createProton(canvas, width, height);\n      RAFManager.add(this.renderProton);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      try {\n        RAFManager.remove(this.renderProton);\n        this.proton.destroy();\n      } catch (e) {}\n    }\n  }, {\n    key: \"onResize\",\n    value: function onResize(width, height) {\n      this.crossZoneBehaviour.zone.width = width;\n      this.crossZoneBehaviour.zone.height = height;\n      this.proton.renderers[0].resize(width, height);\n    }\n  }, {\n    key: \"createProton\",\n    value: function createProton(canvas, width, height) {\n      this.proton = new Proton();\n      var emitter = new Proton.Emitter();\n      emitter.rate = new Proton.Rate(this.props.num ? new Proton.Span(this.props.num) : new Proton.Span(100), new Proton.Span(0.05, 0.2));\n      emitter.addInitialize(new Proton.Mass(1));\n      emitter.addInitialize(new Proton.Radius(1, 4));\n      emitter.addInitialize(new Proton.Life(Infinity));\n      var pointZone = new Proton.Position(new Proton.RectZone(0, 0, width, height));\n      emitter.addInitialize(pointZone);\n      emitter.addInitialize(new Proton.Velocity(new Proton.Span(0.3, 0.6), new Proton.Span(0, 360), \"polar\"));\n      emitter.addBehaviour(new Proton.Alpha(Proton.getSpan(0.2, 0.9)));\n      emitter.addBehaviour(new Proton.Color(this.props.color || \"#333\"));\n      this.crossZoneBehaviour = new Proton.CrossZone(new Proton.RectZone(0, 0, width, height), \"cross\");\n      emitter.addBehaviour(this.crossZoneBehaviour);\n      emitter.emit(\"once\");\n      emitter.damping = 0;\n      this.proton.addEmitter(emitter);\n      this.proton.addRenderer(this.createRenderer(canvas, emitter));\n    }\n  }, {\n    key: \"createRenderer\",\n    value: function createRenderer(canvas, emitter) {\n      var _this2 = this;\n\n      var context = canvas.getContext(\"2d\");\n      var renderer = new Proton.CanvasRenderer(canvas);\n      var R = 140;\n\n      renderer.onProtonUpdateAfter = function () {\n        var particles = emitter.particles;\n\n        for (var i = 0; i < particles.length; i++) {\n          for (var j = i + 1; j < particles.length; j++) {\n            var pA = particles[i];\n            var pB = particles[j];\n            var dis = pA.p.distanceTo(pB.p);\n\n            if (dis < R) {\n              var alpha = (1 - dis / R) * 0.5;\n              context.strokeStyle = getColor(_this2.props.color, alpha) || \"rgba(3, 3, 3, \" + alpha + \")\";\n              context.beginPath();\n              context.moveTo(pA.p.x, pA.p.y);\n              context.lineTo(pB.p.x, pB.p.y);\n              context.closePath();\n              context.stroke();\n            }\n          }\n        }\n      };\n\n      return renderer;\n    }\n  }, {\n    key: \"renderProton\",\n    value: function renderProton() {\n      this.proton && this.proton.update();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(Canvas, {\n        bg: this.props.bg,\n        globalCompositeOperation: \"darker\",\n        onCanvasInited: this.onCanvasInited.bind(this),\n        onResize: this.onResize.bind(this)\n      });\n    }\n  }]);\n  return Cobweb;\n}(React.Component);\n\nvar Circle = function (_React$Component) {\n  inherits(Circle, _React$Component);\n\n  function Circle(props) {\n    classCallCheck(this, Circle);\n\n    var _this = possibleConstructorReturn(this, (Circle.__proto__ || Object.getPrototypeOf(Circle)).call(this, props));\n\n    _this.colors = [\"#74b9ff\", \"#e84393\", \"#6c5ce7\", \"#00b894\", \"#fdcb6e\", \"#006266\", \"#1B1464\"];\n    _this.renderProton = _this.renderProton.bind(_this);\n    return _this;\n  }\n\n  createClass(Circle, [{\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      try {\n        RAFManager.remove(this.renderProton);\n        this.proton.destroy();\n      } catch (e) {}\n    }\n  }, {\n    key: \"onCanvasInited\",\n    value: function onCanvasInited(canvas, width, height) {\n      this.createProton(canvas, width, height);\n      RAFManager.add(this.renderProton);\n    }\n  }, {\n    key: \"onResize\",\n    value: function onResize(width, height) {\n      this.crossZoneBehaviour.zone.width = width;\n      this.crossZoneBehaviour.zone.height = height;\n      this.proton.renderers[0].resize(width, height);\n    }\n  }, {\n    key: \"createProton\",\n    value: function createProton(canvas, width, height) {\n      this.proton = new Proton();\n      var emitter = new Proton.Emitter();\n      emitter.rate = new Proton.Rate(this.props.num || 20);\n      emitter.damping = 0.008;\n      emitter.addInitialize(new Proton.Mass(1));\n      emitter.addInitialize(new Proton.Radius(30, 600));\n      emitter.addInitialize(new Proton.Velocity(new Proton.Span(0.5), new Proton.Span(0, 360), \"polar\"));\n      emitter.addInitialize(new Proton.Position(new Proton.RectZone(0, 0, canvas.width, canvas.height)));\n      var crossZoneBehaviour = new Proton.CrossZone(new Proton.RectZone(0, 0, canvas.width, canvas.height), \"cross\");\n      emitter.addBehaviour(crossZoneBehaviour);\n      emitter.addBehaviour(new Proton.Alpha(Proton.getSpan(0.35, 0.55)));\n      emitter.addBehaviour(new Proton.Color(this.getColor()));\n      emitter.addBehaviour(new Proton.RandomDrift(50, 50, 0.5));\n      emitter.emit(\"once\");\n      this.proton.addEmitter(emitter);\n      var renderer = new Proton.CanvasRenderer(canvas);\n      this.proton.addRenderer(renderer);\n      this.crossZoneBehaviour = crossZoneBehaviour;\n    }\n  }, {\n    key: \"getColor\",\n    value: function getColor() {\n      var c = this.colors;\n\n      if (this.props.color) {\n        if (Array.isArray(this.props.color)) {\n          c = this.props.color;\n        } else {\n          c = [this.props.color];\n        }\n      }\n\n      return c;\n    }\n  }, {\n    key: \"renderProton\",\n    value: function renderProton() {\n      this.proton && this.proton.update();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(Canvas, {\n        bg: this.props.bg,\n        globalCompositeOperation: \"darken\",\n        onCanvasInited: this.onCanvasInited.bind(this),\n        onResize: this.onResize.bind(this)\n      });\n    }\n  }]);\n  return Circle;\n}(React.Component);\n\nvar Tadpole = function (_React$Component) {\n  inherits(Tadpole, _React$Component);\n\n  function Tadpole(props) {\n    classCallCheck(this, Tadpole);\n\n    var _this = possibleConstructorReturn(this, (Tadpole.__proto__ || Object.getPrototypeOf(Tadpole)).call(this, props));\n\n    _this.renderProton = _this.renderProton.bind(_this);\n    return _this;\n  }\n\n  createClass(Tadpole, [{\n    key: \"onCanvasDidMount\",\n    value: function onCanvasDidMount(canvas) {}\n  }, {\n    key: \"onCanvasInited\",\n    value: function onCanvasInited(canvas, width, height) {\n      this.createProton(canvas, width, height);\n      this.renderProton();\n    }\n  }, {\n    key: \"onResize\",\n    value: function onResize(width, height) {\n      this.crossZoneBehaviour.zone.width = width;\n      this.crossZoneBehaviour.zone.height = height;\n      this.proton.renderers[0].resize(width, height);\n    }\n  }, {\n    key: \"createProton\",\n    value: function createProton(canvas, width, height) {\n      this.proton = new Proton();\n      var emitter = new Proton.Emitter();\n      emitter.damping = 0.008;\n      emitter.rate = new Proton.Rate(this.props.num ? this.props.num : 50);\n      emitter.addInitialize(new Proton.Mass(1));\n      emitter.addInitialize(new Proton.Radius(5, 9));\n      emitter.addInitialize(new Proton.Velocity(new Proton.Span(1.5), new Proton.Span(0, 360), \"polar\"));\n      emitter.addInitialize(new Proton.Position(new Proton.RectZone(0, 0, width, height)));\n      var mouseInfo = {\n        x: width / 2,\n        y: height / 2\n      };\n      var attractionBehaviour = new Proton.Attraction(mouseInfo, 0, 0);\n      var crossZoneBehaviour = new Proton.CrossZone(new Proton.RectZone(0, 0, canvas.width, canvas.height), \"bound\");\n      emitter.addBehaviour(new Proton.Color(this.props.color || \"#bbb\")); //emitter.addBehaviour(new Proton.Alpha(new Proton.Span(0.5, 1)));\n\n      emitter.addBehaviour(attractionBehaviour, crossZoneBehaviour);\n      emitter.addBehaviour(new Proton.RandomDrift(15, 15, 0.05));\n      emitter.emit(\"once\");\n      this.proton.addEmitter(emitter);\n      this.proton.addRenderer(this.createRenderer(canvas));\n      this.crossZoneBehaviour = crossZoneBehaviour;\n    }\n  }, {\n    key: \"createRenderer\",\n    value: function createRenderer(canvas) {\n      var jointCount = 10;\n      var delayTime = 8;\n      var context = canvas.getContext(\"2d\");\n      var renderer = new Proton.CanvasRenderer(canvas);\n\n      renderer.onProtonUpdate = function () {\n        context.clearRect(0, 0, canvas.width, canvas.height);\n      };\n\n      renderer.onParticleCreated = function (particle) {\n        particle.data.points = [];\n        particle.data.index = 0;\n      };\n\n      renderer.onParticleUpdate = function (particle) {\n        drawTadpoleTail(particle);\n        if (particle.data.index % delayTime === 0) fillPointsData(particle);\n        drawTadpoleHead(particle);\n        particle.data.index++;\n      };\n\n      var fillPointsData = function fillPointsData(particle) {\n        particle.data.points.unshift(particle.p.y);\n        particle.data.points.unshift(particle.p.x);\n\n        if (particle.data.points.length > jointCount) {\n          particle.data.points.pop();\n          particle.data.points.pop();\n        }\n      };\n\n      var drawTadpoleHead = function drawTadpoleHead(particle) {\n        context.fillStyle = particle.color;\n        context.beginPath();\n        context.arc(particle.p.x, particle.p.y, particle.radius, 0, Math.PI * 2, true);\n        context.closePath();\n        context.fill();\n      };\n\n      var drawTadpoleTail = function drawTadpoleTail(particle) {\n        context.beginPath();\n        context.strokeStyle = particle.color;\n        context.moveTo(particle.p.x, particle.p.y);\n        var l = particle.data.points.length;\n\n        for (var i = 0; i < l; i += 2) {\n          var x = particle.data.points[i];\n          var y = particle.data.points[i + 1];\n          context.lineWidth = linearEvaluation(i, l);\n          context.lineTo(x, y);\n          context.stroke();\n        }\n      };\n\n      var linearEvaluation = function linearEvaluation(i, l) {\n        if (l <= 2) return 1;\n        var max = 6;\n        var A = (max - 1) / (2 / l - 1);\n        var B = 1 - A;\n        var X = (i + 2) / l;\n        var val = A * X + B;\n        val = val >> 0;\n        return val;\n      };\n\n      return renderer;\n    }\n  }, {\n    key: \"renderProton\",\n    value: function renderProton() {\n      var _this2 = this;\n\n      RAFManager.add(function () {\n        _this2.proton.update(); //this.proton.stats.update();\n\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(Canvas, {\n        bg: this.props.bg,\n        globalCompositeOperation: \"darker\",\n        onCanvasDidMount: this.onCanvasDidMount.bind(this),\n        onCanvasInited: this.onCanvasInited.bind(this),\n        onResize: this.onResize.bind(this)\n      });\n    }\n  }]);\n  return Tadpole;\n}(React.Component);\n\nvar COLOR = [\"#f6b93b\", \"#18dcff\", \"#cd84f1\", \"#ED4C67\", \"#ffffff\", \"#b71540\", \"#32ff7e\", \"#ff3838\"];\n\nvar Polygon = function (_React$Component) {\n  inherits(Polygon, _React$Component);\n\n  function Polygon(props) {\n    classCallCheck(this, Polygon);\n\n    var _this = possibleConstructorReturn(this, (Polygon.__proto__ || Object.getPrototypeOf(Polygon)).call(this, props));\n\n    _this.renderProton = _this.renderProton.bind(_this);\n    return _this;\n  }\n\n  createClass(Polygon, [{\n    key: \"onCanvasInited\",\n    value: function onCanvasInited(canvas, width, height) {\n      this.createProton(canvas);\n      this.createEmitter({\n        canvas: canvas,\n        x: width / 2,\n        y: height / 2,\n        mainEmitter: true,\n        zone: \"bound\"\n      });\n      RAFManager.add(this.renderProton);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      try {\n        RAFManager.remove(this.renderProton);\n        this.proton.destroy();\n      } catch (e) {}\n    }\n  }, {\n    key: \"onResize\",\n    value: function onResize() {}\n  }, {\n    key: \"createProton\",\n    value: function createProton(canvas) {\n      this.proton = new Proton();\n      var renderer = this.createRenderer(canvas);\n      this.proton.addRenderer(renderer);\n    }\n  }, {\n    key: \"createRenderer\",\n    value: function createRenderer(canvas) {\n      var context = canvas.getContext(\"2d\");\n      var renderer = new Proton.CustomRenderer();\n\n      renderer.onProtonUpdate = function () {\n        context.clearRect(0, 0, canvas.width, canvas.height);\n      };\n\n      renderer.onParticleCreated = function (particle) {\n        particle.data.count = Proton.MathUtil.randomAToB(3, 10, true);\n      };\n\n      renderer.onParticleUpdate = function (particle) {\n        context.save();\n        context.globalAlpha = particle.alpha;\n        context.fillStyle = particle.color;\n        context.translate(particle.p.x, particle.p.y);\n        context.rotate(Proton.MathUtil.degreeTransform(particle.rotation));\n        context.translate(-particle.p.x, -particle.p.y);\n        context.beginPath();\n        drawPolygon(particle, particle.data.count);\n        context.closePath();\n        context.fill();\n        context.globalAlpha = 1;\n        context.restore();\n      };\n\n      renderer.onParticleDead = function (particle) {};\n\n      var drawPolygon = function drawPolygon(particle, count) {\n        if (count >= 7) {\n          context.arc(particle.p.x, particle.p.y, particle.radius, 0, Math.PI * 2, true);\n        } else {\n          var radius = particle.radius;\n\n          for (var i = 0; i <= count; i++) {\n            var x = particle.p.x + radius * Math.cos(Math.PI / 180 * 360 / count * i);\n            var y = particle.p.y + radius * Math.sin(Math.PI / 180 * 360 / count * i);\n            if (i === 0) context.moveTo(x, y);else context.lineTo(x, y);\n          }\n        }\n      };\n\n      return renderer;\n    }\n  }, {\n    key: \"createEmitter\",\n    value: function createEmitter(_ref) {\n      var mainEmitter = _ref.mainEmitter,\n          canvas = _ref.canvas,\n          x = _ref.x,\n          y = _ref.y,\n          radius = _ref.radius,\n          _ref$color = _ref.color,\n          color = _ref$color === undefined ? COLOR : _ref$color,\n          _ref$zone = _ref.zone,\n          zone = _ref$zone === undefined ? \"dead\" : _ref$zone,\n          _ref$once = _ref.once,\n          once = _ref$once === undefined ? \"all\" : _ref$once,\n          _ref$alpha = _ref.alpha,\n          alpha = _ref$alpha === undefined ? 0.85 : _ref$alpha,\n          _ref$gravity = _ref.gravity,\n          gravity = _ref$gravity === undefined ? 3.5 : _ref$gravity;\n      var emitter = this.proton.pool.get(Proton.Emitter);\n\n      if (!emitter.completed) {\n        emitter.rate = new Proton.Rate(this.props.num ? new Proton.Span(this.props.num) : new Proton.Span(4, 9), new Proton.Span(1.6, 2.2));\n        var radiusInit = mainEmitter ? new Proton.Radius(10, 110) : new Proton.Radius(3, radius);\n        emitter.addInitialize(new Proton.Mass(1));\n        emitter.addInitialize(radiusInit);\n        emitter.addInitialize(new Proton.Life(3, 6));\n        emitter.addInitialize(new Proton.Velocity(new Proton.Span(4, 6), new Proton.Span(-90, 90), \"polar\"));\n        emitter.addBehaviour(new Proton.Alpha(alpha, 0.2));\n        emitter.addBehaviour(new Proton.Color(color));\n        emitter.addBehaviour(new Proton.Scale(1, 0.3));\n        emitter.addBehaviour(new Proton.Rotate());\n        emitter.addBehaviour(new Proton.Gravity(gravity));\n        emitter.addBehaviour(this.customDeadBehaviour(canvas));\n        emitter.addBehaviour(new Proton.CrossZone(new Proton.RectZone(0, 0, canvas.width, canvas.height), zone));\n      }\n\n      emitter.p.x = x;\n      emitter.p.y = y;\n      if (once === \"once\") emitter.emit(\"once\");else emitter.emit();\n      this.proton.addEmitter(emitter); //this.expireEmitter(emitter);\n    }\n  }, {\n    key: \"expireEmitter\",\n    value: function expireEmitter(emitter) {\n      var _this2 = this;\n\n      setTimeout(function () {\n        emitter.completed = true;\n\n        _this2.proton.pool.expire(emitter);\n\n        _this2.proton.removeEmitter(emitter);\n      }, 500);\n    }\n  }, {\n    key: \"customDeadBehaviour\",\n    value: function customDeadBehaviour(canvas) {\n      var _this3 = this;\n\n      return {\n        initialize: function initialize(particle) {\n          particle.data = particle.data || {};\n          particle.data.oldRadius = particle.radius;\n          particle.data.emitterCount = 0;\n        },\n        applyBehaviour: function applyBehaviour(particle) {\n          if (particle.radius < 5) return;\n          if (particle.data.emitterCount >= 2) return;\n\n          if (particle.radius <= 1 / 3 * particle.data.oldRadius) {\n            particle.data.emitterCount++;\n\n            _this3.createEmitter({\n              canvas: canvas,\n              x: particle.p.x,\n              y: particle.p.y,\n              radius: particle.radius * (1 / 2),\n              alpha: 0.5,\n              gravity: 5,\n              color: particle.color,\n              once: \"once\"\n            });\n          }\n        }\n      };\n    }\n  }, {\n    key: \"renderProton\",\n    value: function renderProton() {\n      this.proton && this.proton.update();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(Canvas, {\n        bg: this.props.bg,\n        globalCompositeOperation: \"darker\",\n        onCanvasInited: this.onCanvasInited.bind(this),\n        onResize: this.onResize.bind(this)\n      });\n    }\n  }]);\n  return Polygon;\n}(React.Component);\n\nvar Fountain = function (_React$Component) {\n  inherits(Fountain, _React$Component);\n\n  function Fountain(props) {\n    classCallCheck(this, Fountain);\n\n    var _this = possibleConstructorReturn(this, (Fountain.__proto__ || Object.getPrototypeOf(Fountain)).call(this, props));\n\n    _this.colors = [\"#529B88\", \"#CDD180\", \"#FFFA32\", \"#FB6255\", \"#FB4A53\", \"#FF4E50\", \"#F9D423\"];\n    _this.renderProton = _this.renderProton.bind(_this);\n    return _this;\n  }\n\n  createClass(Fountain, [{\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      try {\n        RAFManager.remove(this.renderProton);\n        this.proton.destroy();\n      } catch (e) {}\n    }\n  }, {\n    key: \"onCanvasInited\",\n    value: function onCanvasInited(canvas, width, height) {\n      this.createProton(canvas, width, height);\n      RAFManager.add(this.renderProton);\n    }\n  }, {\n    key: \"onResize\",\n    value: function onResize() {}\n  }, {\n    key: \"createProton\",\n    value: function createProton(canvas, width, height) {\n      this.proton = new Proton();\n      var emitter = new Proton.Emitter();\n      emitter.rate = new Proton.Rate(this.props.num ? new Proton.Span(this.props.num) : new Proton.Span(4, 8), new Proton.Span(0.1, 0.25));\n      emitter.addInitialize(new Proton.Mass(1));\n      emitter.addInitialize(new Proton.Radius(20, 200));\n      emitter.addInitialize(new Proton.Life(2, 4));\n      emitter.addInitialize(new Proton.Velocity(new Proton.Span(4, 7), new Proton.Span(0, 360), \"polar\"));\n      emitter.addInitialize(new Proton.Position(new Proton.CircleZone(width / 2, height / 2, 100)));\n      emitter.addBehaviour(new Proton.Alpha(1, 0));\n      emitter.addBehaviour(new Proton.Scale(0.2, 1));\n      emitter.addBehaviour(this.createCustomBehaviour());\n      emitter.addBehaviour(new Proton.Color(this.colors, \"random\"));\n      emitter.emit();\n      this.proton.addEmitter(emitter);\n      var renderer = new Proton.CanvasRenderer(canvas);\n      this.proton.addRenderer(renderer);\n    }\n  }, {\n    key: \"createCustomBehaviour\",\n    value: function createCustomBehaviour() {\n      var f = 10 * 100;\n      return {\n        initialize: function initialize(particle) {\n          particle.f = new Proton.Vector2D(0, 0);\n        },\n        applyBehaviour: function applyBehaviour(particle) {\n          var length = particle.v.length() / 1000;\n          var gradient = particle.v.getGradient();\n          gradient += 3.14 / 2;\n          particle.f.x = f * length * Math.cos(gradient);\n          particle.f.y = f * length * Math.sin(gradient);\n          particle.a.add(particle.f);\n        }\n      };\n    }\n  }, {\n    key: \"renderProton\",\n    value: function renderProton() {\n      this.proton && this.proton.update();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(Canvas, {\n        bg: this.props.bg,\n        globalCompositeOperation: \"xor\",\n        onCanvasInited: this.onCanvasInited.bind(this),\n        onResize: this.onResize.bind(this)\n      });\n    }\n  }]);\n  return Fountain;\n}(React.Component);\n\nvar ParticlesBg = function (_Component) {\n  inherits(ParticlesBg, _Component);\n\n  function ParticlesBg(props) {\n    classCallCheck(this, ParticlesBg);\n    return possibleConstructorReturn(this, (ParticlesBg.__proto__ || Object.getPrototypeOf(ParticlesBg)).call(this, props));\n  }\n\n  createClass(ParticlesBg, [{\n    key: \"getRandom\",\n    value: function getRandom() {\n      var _props = this.props,\n          num = _props.num,\n          bg = _props.bg,\n          color = _props.color; // Code source from here, thanks author\n      // https://github.com/drawcall/Proton/blob/gh-pages/source/src/utils/Rand.js\n\n      if (!this.random) {\n        this.random = new Rand();\n        this.random.set(0.25, React.createElement(Color, {\n          num: num,\n          bg: bg,\n          color: color\n        }));\n        this.random.set(0.2, React.createElement(Ball, {\n          num: num,\n          bg: bg,\n          color: color\n        }));\n        this.random.set(0.2, React.createElement(Lines, {\n          num: num,\n          bg: bg,\n          color: color\n        }));\n        this.random.set(0.16, React.createElement(Thick, {\n          num: num,\n          bg: bg,\n          color: color\n        }));\n        this.random.set(0.18, React.createElement(Circle, {\n          num: num,\n          bg: bg,\n          color: color\n        }));\n        this.random.set(0.04, React.createElement(Cobweb, {\n          num: num,\n          bg: bg,\n          color: color\n        }));\n        this.random.set(0.1, React.createElement(Polygon, {\n          num: num,\n          bg: bg,\n          color: color\n        }));\n        this.random.set(0.08, React.createElement(Square, {\n          num: num,\n          bg: bg,\n          color: color\n        }));\n        this.random.set(0.18, React.createElement(Tadpole, {\n          num: num,\n          bg: bg,\n          color: color\n        }));\n        this.random.set(0.15, React.createElement(Fountain, {\n          num: num,\n          bg: bg,\n          color: color\n        }));\n      }\n\n      return this.random.getResult();\n    }\n  }, {\n    key: \"getBgParticles\",\n    value: function getBgParticles() {\n      var _props2 = this.props,\n          type = _props2.type,\n          num = _props2.num,\n          bg = _props2.bg,\n          color = _props2.color,\n          config = _props2.config;\n      var particles = void 0;\n\n      switch (String(type).toLowerCase()) {\n        case \"color\":\n          particles = React.createElement(Color, {\n            num: num,\n            bg: bg,\n            color: color\n          });\n          break;\n\n        case \"ball\":\n          particles = React.createElement(Ball, {\n            num: num,\n            bg: bg,\n            color: color\n          });\n          break;\n\n        case \"lines\":\n          particles = React.createElement(Lines, {\n            num: num,\n            bg: bg,\n            color: color\n          });\n          break;\n\n        case \"thick\":\n          particles = React.createElement(Thick, {\n            num: num,\n            bg: bg,\n            color: color\n          });\n          break;\n\n        case \"circle\":\n          particles = React.createElement(Circle, {\n            num: num,\n            bg: bg,\n            color: color\n          });\n          break;\n\n        case \"cobweb\":\n          particles = React.createElement(Cobweb, {\n            num: num,\n            bg: bg,\n            color: color\n          });\n          break;\n\n        case \"polygon\":\n          particles = React.createElement(Polygon, {\n            num: num,\n            bg: bg,\n            color: color\n          });\n          break;\n\n        case \"square\":\n          particles = React.createElement(Square, {\n            num: num,\n            bg: bg,\n            color: color\n          });\n          break;\n\n        case \"tadpole\":\n          particles = React.createElement(Tadpole, {\n            num: num,\n            bg: bg,\n            color: color\n          });\n          break;\n\n        case \"fountain\":\n          particles = React.createElement(Fountain, {\n            num: num,\n            bg: bg,\n            color: color\n          });\n          break;\n\n        case \"custom\":\n          particles = React.createElement(Color$1, {\n            bg: bg,\n            config: config\n          });\n          break;\n\n        case \"random\":\n          particles = this.getRandom(num);\n          break;\n\n        default:\n          particles = React.createElement(Color, {\n            num: num,\n            bg: bg,\n            color: color\n          });\n          break;\n      }\n\n      return particles;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var particles = this.getBgParticles();\n      return React.createElement(React.Fragment, null, particles);\n    }\n  }]);\n  return ParticlesBg;\n}(Component);\n\nexport default ParticlesBg;","map":{"version":3,"mappings":"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","names":["React","Component","RAFManager","Proton","_typeof","Symbol","iterator","obj","constructor","prototype","classCallCheck","instance","Constructor","TypeError","createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","inherits","subClass","superClass","create","value","setPrototypeOf","__proto__","possibleConstructorReturn","self","call","ReferenceError","Rand","list","set$$1","probability","push","a","b","calculation","total","_i","val","getResult","Math","random","Canvas","_React$Component","_this","getPrototypeOf","_iid","_oid","size","width","height","canvasRef","createRef","componentDidMount","_this2","setTimeout","initCanvas","resize","bind","window","addEventListener","canvas","getCanvas","onCanvasDidMount","globalCompositeOperation","context","getContext","_setCanvasSize","setCanvasSize","heartbeatDetectionCanvasSize","onCanvasInited","current","_this3","setInterval","newHeight","clientHeight","_setCanvasSize2","onResize","componentWillUnmount","removeEventListener","clearInterval","clearTimeout","e","_setCanvasSize3","clientWidth","handleWaypointEnter","start","handleWaypointLeave","stop","getStyle","bg","style","assign","position","zIndex","top","left","handleMouseDown","onMouseDown","render","createElement","className","ref","hexToRgb","hex","result","exec","r","parseInt","g","getColor","color","c","Ball","renderProton","createProton","createMiniEmitter","add","remove","proton","destroy","emitter","Emitter","rate","Rate","num","Span","addInitialize","Mass","Radius","Life","Velocity","addBehaviour","Alpha","Color","Scale","Gravity","Collision","customDeadBehaviour","CrossZone","RectZone","p","x","min","max","y","emit","addEmitter","renderer","CanvasRenderer","onProtonUpdate","fillStyle","fillRect","addRenderer","initialize","particle","applyBehaviour","radius","miniEmitteing","dead","miniEmitter","radiusInitialize","V","colorBehaviour","reset","update","colors","Position","Infinity","easeOutCubic","Color$1","crossZoneBehaviour","zone","renderers","getProp","defaultVal","config","Array","isArray","getArrProp","rps","mass","life","body","v","tha","alpha","scale","cross","rotate","f","emitterV","FollowEmitter","Body","pos","alphaB","scaleB","colorB","Rotate","RandomDrift","G","F","createRenderer","onUpdate","onParticleCreated","onParticleUpdate","operation","Lines","backgroundColor","damping","mouseObj","attractionBehaviour","Attraction","beginPath","strokeStyle","lineWidth","moveTo","old","lineTo","closePath","stroke","Thick","hue","index","colorTemplate","CircleZone","repulsion","Repulsion","attraction","data","begin","MathUtil","randomAToB","PI","replace","ratio","cos","arc","fill","targetPosition","Square","dis","LineZone","getSpan","preEmit","CustomRenderer","clearRect","w","h","save","globalAlpha","translate","degreeTransform","rotation","rect","restore","Cobweb","pointZone","R","onProtonUpdateAfter","particles","j","pA","pB","distanceTo","Circle","Tadpole","mouseInfo","jointCount","delayTime","points","drawTadpoleTail","fillPointsData","drawTadpoleHead","unshift","pop","l","linearEvaluation","A","B","X","COLOR","Polygon","createEmitter","mainEmitter","count","drawPolygon","onParticleDead","sin","_ref","_ref$color","undefined","_ref$zone","_ref$once","once","_ref$alpha","_ref$gravity","gravity","pool","get","completed","radiusInit","expireEmitter","expire","removeEmitter","oldRadius","emitterCount","Fountain","createCustomBehaviour","Vector2D","gradient","getGradient","ParticlesBg","_Component","getRandom","_props","set","getBgParticles","_props2","type","String","toLowerCase","Fragment"],"sources":["C:/Users/levba/Documents/Coding files/GitHub_upload/node_modules/particles-bg/dist/index.es.js"],"sourcesContent":["import React, { Component } from 'react';\nimport RAFManager from 'raf-manager';\nimport Proton from 'proton-engine';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\nvar classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar inherits = function (subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n};\n\nvar possibleConstructorReturn = function (self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n};\n\n// Code source from here, thanks author\n// https://github.com/drawcall/Proton/blob/gh-pages/source/src/utils/Rand.js\nvar Rand = function () {\n    function Rand() {\n        classCallCheck(this, Rand);\n\n        this.list = [];\n    }\n\n    createClass(Rand, [{\n        key: \"set\",\n        value: function set$$1(probability, target) {\n            this.list.push({\n                probability: probability,\n                target: target,\n                a: 0,\n                b: 1\n            });\n\n            this.calculation();\n        }\n    }, {\n        key: \"calculation\",\n        value: function calculation() {\n            var total = 0;\n            for (var i = 0; i < this.list.length; i++) {\n                total += this.list[i].probability;\n            }\n\n            for (var _i = 0; _i < this.list.length; _i++) {\n                var obj = this.list[_i];\n                var val = obj.probability / total;\n\n                obj.a = _i === 0 ? 0 : this.list[_i - 1].b;\n                obj.b = obj.a + val;\n            }\n        }\n    }, {\n        key: \"getResult\",\n        value: function getResult() {\n            var val = Math.random();\n            for (var i = 0; i < this.list.length; i++) {\n                var obj = this.list[i];\n\n                if (val <= obj.b && val > obj.a) {\n                    return obj.target;\n                }\n            }\n\n            return this.list[0].target;\n        }\n    }]);\n    return Rand;\n}();\n\nvar Canvas = function (_React$Component) {\n  inherits(Canvas, _React$Component);\n\n  function Canvas(props) {\n    classCallCheck(this, Canvas);\n\n    var _this = possibleConstructorReturn(this, (Canvas.__proto__ || Object.getPrototypeOf(Canvas)).call(this, props));\n\n    _this._iid = 0;\n    _this._oid = 0;\n    _this.size = { width: 0, height: 0 };\n    _this.canvasRef = React.createRef();\n    return _this;\n  }\n\n  createClass(Canvas, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this._oid = setTimeout(function () {\n        _this2.initCanvas();\n        _this2.resize = _this2.resize.bind(_this2);\n        window.addEventListener(\"resize\", _this2.resize);\n      }, 100);\n\n      var canvas = this.getCanvas();\n      this.props.onCanvasDidMount && this.props.onCanvasDidMount(canvas);\n    }\n  }, {\n    key: \"initCanvas\",\n    value: function initCanvas() {\n      var canvas = this.getCanvas();\n\n      if (this.props.globalCompositeOperation) {\n        var context = canvas.getContext(\"2d\");\n        context.globalCompositeOperation = this.props.globalCompositeOperation;\n      }\n\n      var _setCanvasSize = this.setCanvasSize(canvas),\n          width = _setCanvasSize.width,\n          height = _setCanvasSize.height;\n\n      this.heartbeatDetectionCanvasSize(canvas);\n      this.props.onCanvasInited(canvas, width, height);\n    }\n  }, {\n    key: \"getCanvas\",\n    value: function getCanvas() {\n      var canvas = this.canvasRef.current;\n      return canvas;\n    }\n  }, {\n    key: \"heartbeatDetectionCanvasSize\",\n    value: function heartbeatDetectionCanvasSize(canvas) {\n      var _this3 = this;\n\n      this._iid = setInterval(function () {\n        if (_this3.canvasRef.current) {\n          var newHeight = _this3.canvasRef.current.clientHeight;\n          if (newHeight !== _this3.size.height) {\n            var _setCanvasSize2 = _this3.setCanvasSize(canvas),\n                width = _setCanvasSize2.width,\n                height = _setCanvasSize2.height;\n\n            _this3.props.onResize && _this3.props.onResize(width, height);\n          }\n        }\n      }, 1000 / 10);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      try {\n        window.removeEventListener(\"resize\", this.resize);\n        clearInterval(this._iid);\n        clearTimeout(this._oid);\n      } catch (e) {}\n    }\n  }, {\n    key: \"resize\",\n    value: function resize() {\n      var canvas = this.getCanvas();\n\n      var _setCanvasSize3 = this.setCanvasSize(canvas),\n          width = _setCanvasSize3.width,\n          height = _setCanvasSize3.height;\n\n      this.props.onResize && this.props.onResize(width, height);\n    }\n  }, {\n    key: \"setCanvasSize\",\n    value: function setCanvasSize(canvas) {\n      var width = this.canvasRef.current.clientWidth;\n      var height = this.canvasRef.current.clientHeight;\n\n      this.size.width = width;\n      this.size.height = height;\n      canvas.width = width;\n      canvas.height = height;\n      return { width: width, height: height };\n    }\n  }, {\n    key: \"handleWaypointEnter\",\n    value: function handleWaypointEnter() {\n      RAFManager.start();\n    }\n  }, {\n    key: \"handleWaypointLeave\",\n    value: function handleWaypointLeave() {\n      RAFManager.stop();\n    }\n  }, {\n    key: \"getStyle\",\n    value: function getStyle() {\n      var bg = this.props.bg;\n\n      var style = { width: \"100%\", height: \"100%\" };\n\n      if (bg === true) {\n        style = Object.assign(style, {\n          position: \"absolute\",\n          zIndex: -1,\n          top: 0,\n          left: 0\n        });\n      } else if (bg && (typeof bg === \"undefined\" ? \"undefined\" : _typeof(bg)) === \"object\") {\n        style = Object.assign(style, bg);\n      }\n\n      return style;\n    }\n  }, {\n    key: \"handleMouseDown\",\n    value: function handleMouseDown(e) {\n      this.props.onMouseDown && this.props.onMouseDown(e);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"canvas\", { className: \"particles-bg-canvas-self\",\n        ref: this.canvasRef,\n        onMouseDown: this.handleMouseDown.bind(this),\n        style: this.getStyle()\n      });\n    }\n  }]);\n  return Canvas;\n}(React.Component);\n\nfunction hexToRgb(hex) {\n    var result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n    return result ? {\n        r: parseInt(result[1], 16),\n        g: parseInt(result[2], 16),\n        b: parseInt(result[3], 16)\n    } : {};\n}\n\nfunction getColor(color, a) {\n    var c = void 0;\n    if (color) {\n        c = hexToRgb(color);\n        return \"rgba(\" + c.r + \",\" + c.g + \",\" + c.b + \", \" + a + \")\";\n    } else {\n        return null;\n    }\n}\n\nvar Ball = function (_React$Component) {\n  inherits(Ball, _React$Component);\n\n  function Ball(props) {\n    classCallCheck(this, Ball);\n\n    var _this = possibleConstructorReturn(this, (Ball.__proto__ || Object.getPrototypeOf(Ball)).call(this, props));\n\n    _this.renderProton = _this.renderProton.bind(_this);\n    return _this;\n  }\n\n  createClass(Ball, [{\n    key: \"onCanvasInited\",\n    value: function onCanvasInited(canvas, width, height) {\n      this.createProton(canvas, width, height);\n      this.createMiniEmitter(canvas);\n      RAFManager.add(this.renderProton);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      try {\n        RAFManager.remove(this.renderProton);\n        this.proton.destroy();\n      } catch (e) {}\n    }\n  }, {\n    key: \"onResize\",\n    value: function onResize() {}\n  }, {\n    key: \"createProton\",\n    value: function createProton(canvas, width, height) {\n      var _this2 = this;\n\n      var context = canvas.getContext(\"2d\");\n      this.proton = new Proton();\n\n      var emitter = new Proton.Emitter();\n      emitter.rate = new Proton.Rate(this.props.num ? new Proton.Span(this.props.num) : new Proton.Span(4, 9), new Proton.Span(0.8, 1.3));\n\n      emitter.addInitialize(new Proton.Mass(1));\n      emitter.addInitialize(new Proton.Radius(1, 50));\n      emitter.addInitialize(new Proton.Life(5, 6));\n      emitter.addInitialize(new Proton.Velocity(new Proton.Span(5, 8), new Proton.Span(30, 70), \"polar\"));\n\n      emitter.addBehaviour(new Proton.Alpha(1, 0));\n      emitter.addBehaviour(new Proton.Color([\"#36aaf3\", \"#fd769c\", \"#94ff22\", \"#ffa545\", \"#ffffff\"]));\n      emitter.addBehaviour(new Proton.Scale(0.7, 1));\n      emitter.addBehaviour(new Proton.Gravity(3));\n      emitter.addBehaviour(new Proton.Collision(emitter));\n      emitter.addBehaviour(this.customDeadBehaviour(canvas));\n      emitter.addBehaviour(new Proton.CrossZone(new Proton.RectZone(0, 0, canvas.width, canvas.height), \"bound\"));\n\n      emitter.p.x = Math.min(500, Math.max(canvas.width / 2 - 400, 50));\n      emitter.p.y = canvas.height / 2 + 50;\n      emitter.emit();\n      this.proton.addEmitter(emitter);\n\n      var renderer = new Proton.CanvasRenderer(canvas);\n      renderer.onProtonUpdate = function () {\n        context.fillStyle = getColor(_this2.props.color, 0.2) || \"rgba(255, 255, 255, 0.2)\";\n        context.fillRect(0, 0, canvas.width, canvas.height);\n      };\n      this.proton.addRenderer(renderer);\n    }\n  }, {\n    key: \"customDeadBehaviour\",\n    value: function customDeadBehaviour(canvas) {\n      var _this3 = this;\n\n      return {\n        initialize: function initialize(particle) {},\n        applyBehaviour: function applyBehaviour(particle) {\n          if (particle.p.y + particle.radius >= canvas.height) {\n            if (particle.radius > 9) {\n              _this3.miniEmitteing(particle);\n              particle.dead = true;\n            }\n          }\n        }\n      };\n    }\n  }, {\n    key: \"createMiniEmitter\",\n    value: function createMiniEmitter(canvas) {\n      var miniEmitter = new Proton.Emitter();\n      miniEmitter.rate = new Proton.Rate(new Proton.Span(3, 6), new Proton.Span(1, 2));\n\n      miniEmitter.addInitialize(new Proton.Mass(1));\n      miniEmitter.radiusInitialize = new Proton.Radius();\n      miniEmitter.addInitialize(miniEmitter.radiusInitialize);\n      miniEmitter.addInitialize(new Proton.Life(0.5, 1));\n      miniEmitter.addInitialize(new Proton.V(new Proton.Span(1.5, 3), new Proton.Span(0, 70, true), \"polar\"));\n\n      miniEmitter.colorBehaviour = new Proton.Color(\"#ffffff\");\n      miniEmitter.addBehaviour(new Proton.Alpha(1, 0));\n      miniEmitter.addBehaviour(miniEmitter.colorBehaviour);\n      miniEmitter.addBehaviour(new Proton.Gravity(4));\n      miniEmitter.addBehaviour(new Proton.Collision(miniEmitter));\n      miniEmitter.addBehaviour(new Proton.CrossZone(new Proton.RectZone(0, 0, canvas.width, canvas.height), \"bound\"));\n      this.proton.addEmitter(miniEmitter);\n\n      this.miniEmitter = miniEmitter;\n    }\n  }, {\n    key: \"miniEmitteing\",\n    value: function miniEmitteing(particle) {\n      var miniEmitter = this.miniEmitter;\n      miniEmitter.radiusInitialize.reset(particle.radius * 0.05, particle.radius * 0.2);\n      miniEmitter.colorBehaviour.reset(particle.color);\n      miniEmitter.p.x = particle.p.x;\n      miniEmitter.p.y = particle.p.y;\n      miniEmitter.emit(\"once\");\n    }\n  }, {\n    key: \"renderProton\",\n    value: function renderProton() {\n      this.proton && this.proton.update();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(Canvas, { bg: this.props.bg,\n        globalCompositeOperation: \"darker\",\n        onCanvasInited: this.onCanvasInited.bind(this),\n        onResize: this.onResize.bind(this)\n      });\n    }\n  }]);\n  return Ball;\n}(React.Component);\n\nvar Color = function (_React$Component) {\n  inherits(Color, _React$Component);\n\n  function Color(props) {\n    classCallCheck(this, Color);\n\n    var _this = possibleConstructorReturn(this, (Color.__proto__ || Object.getPrototypeOf(Color)).call(this, props));\n\n    _this.colors = [\"#529B88\", \"#CDD180\", \"#FFFA32\", \"#FB6255\", \"#FB4A53\", \"#FF4E50\", \"#F9D423\"];\n    _this.renderProton = _this.renderProton.bind(_this);\n    return _this;\n  }\n\n  createClass(Color, [{\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      try {\n        RAFManager.remove(this.renderProton);\n        this.proton.destroy();\n      } catch (e) {}\n    }\n  }, {\n    key: \"onCanvasInited\",\n    value: function onCanvasInited(canvas, width, height) {\n      this.createProton(canvas, width, height);\n      RAFManager.add(this.renderProton);\n    }\n  }, {\n    key: \"onResize\",\n    value: function onResize() {}\n  }, {\n    key: \"createProton\",\n    value: function createProton(canvas, width, height) {\n      this.proton = new Proton();\n      var emitter = new Proton.Emitter();\n      emitter.rate = new Proton.Rate(this.props.num ? new Proton.Span(this.props.num) : new Proton.Span(5, 8), new Proton.Span(0.1, 0.25));\n\n      emitter.addInitialize(new Proton.Mass(1));\n      emitter.addInitialize(new Proton.Radius(20, 200));\n      emitter.addInitialize(new Proton.Life(2, 4));\n      emitter.addInitialize(new Proton.Position(new Proton.RectZone(0, 0, width, height)));\n\n      emitter.addBehaviour(new Proton.Alpha(0, 1, Infinity, Proton.easeOutCubic));\n      emitter.addBehaviour(new Proton.Scale(1, 0, Infinity, Proton.easeOutCubic));\n      emitter.addBehaviour(new Proton.Color(this.colors, \"random\"));\n\n      emitter.emit();\n      this.proton.addEmitter(emitter);\n\n      var renderer = new Proton.CanvasRenderer(canvas);\n      this.proton.addRenderer(renderer);\n    }\n  }, {\n    key: \"renderProton\",\n    value: function renderProton() {\n      this.proton && this.proton.update();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(Canvas, { bg: this.props.bg,\n        globalCompositeOperation: \"darker\",\n        onCanvasInited: this.onCanvasInited.bind(this),\n        onResize: this.onResize.bind(this)\n      });\n    }\n  }]);\n  return Color;\n}(React.Component);\n\nvar Color$1 = function (_React$Component) {\n    inherits(Color, _React$Component);\n\n    function Color(props) {\n        classCallCheck(this, Color);\n\n        var _this = possibleConstructorReturn(this, (Color.__proto__ || Object.getPrototypeOf(Color)).call(this, props));\n\n        _this.colors = [\"#529B88\", \"#CDD180\", \"#FFFA32\", \"#FB6255\", \"#FB4A53\", \"#FF4E50\", \"#F9D423\"];\n        _this.renderProton = _this.renderProton.bind(_this);\n        return _this;\n    }\n\n    createClass(Color, [{\n        key: \"componentWillUnmount\",\n        value: function componentWillUnmount() {\n            try {\n                RAFManager.remove(this.renderProton);\n                this.proton.destroy();\n            } catch (e) {}\n        }\n    }, {\n        key: \"onCanvasInited\",\n        value: function onCanvasInited(canvas, width, height) {\n            this.createProton(canvas, width, height);\n            RAFManager.add(this.renderProton);\n        }\n    }, {\n        key: \"onResize\",\n        value: function onResize(width, height) {\n            this.crossZoneBehaviour.zone.width = width;\n            this.crossZoneBehaviour.zone.height = height;\n            this.proton.renderers[0].resize(width, height);        }\n    }, {\n        key: \"getProp\",\n        value: function getProp(key, defaultVal) {\n            var config = this.props.config || {};\n            var val = config[key] || defaultVal;\n            if (Array.isArray(val)) {\n                return new Proton.Span(val[0], val[1]);\n            } else {\n                return val;\n            }\n        }\n    }, {\n        key: \"getArrProp\",\n        value: function getArrProp(key, defaultVal) {\n            var config = this.props.config || {};\n            var val = config[key] || defaultVal;\n            if (!val) return null;\n\n            if (Array.isArray(val)) {\n                return val;\n            } else {\n                return [val, val];\n            }\n        }\n    }, {\n        key: \"createProton\",\n        value: function createProton(canvas, width, height) {\n            var num = this.getProp(\"num\", [5, 8]);\n            var rps = this.getProp(\"rps\", [0.1, 0.2]);\n            var mass = this.getProp(\"mass\", 1);\n            var radius = this.getProp(\"radius\", [10, 30]);\n            var life = this.getProp(\"life\", [2, 3]);\n            var body = this.getProp(\"body\");\n            var position = this.getProp(\"position\");\n            var v = this.getProp(\"v\", [2, 3]);\n            var tha = this.getProp(\"tha\", [-15, 15]);\n            var alpha = this.getArrProp(\"alpha\");\n            var scale = this.getArrProp(\"scale\");\n            var color = this.getArrProp(\"color\");\n            var cross = this.getProp(\"cross\", \"dead\");\n            var random = this.getProp(\"random\");\n            var rotate = this.getArrProp(\"rotate\");\n            var g = this.getProp(\"g\");\n            var f = this.getArrProp(\"f\");\n            var emitterV = this.getProp(\"emitter\");\n\n            this.proton = new Proton();\n            var emitter = void 0;\n            if (emitterV === \"follow\") {\n                emitter = new Proton.FollowEmitter();\n            } else {\n                emitter = new Proton.Emitter();\n            }\n            emitter.rate = new Proton.Rate(num, rps);\n\n            emitter.addInitialize(new Proton.Mass(mass));\n            emitter.addInitialize(new Proton.Radius(radius));\n            emitter.addInitialize(new Proton.Life(life));\n            emitter.addInitialize(new Proton.Velocity(v, tha, \"polar\"));\n            if (body) emitter.addInitialize(new Proton.Body(body));\n\n            var pos = void 0;\n            if (position === \"all\" || position === \"screen\") {\n                pos = new Proton.Position(new Proton.RectZone(0, 0, canvas.width, canvas.height));\n            } else if ((typeof position === \"undefined\" ? \"undefined\" : _typeof(position)) === \"object\") {\n                pos = new Proton.Position(new Proton.RectZone(position.x, position.y, position.width, position.height));\n            } else {\n                emitter.p.x = canvas.width / 2;\n                emitter.p.y = canvas.height / 2;\n            }\n\n            emitter.addInitialize(pos);\n\n            /// behaviour\n            var alphaB = alpha ? new Proton.Alpha(alpha[0], alpha[1]) : new Proton.Alpha(0, 1);\n            var scaleB = scale ? new Proton.Scale(scale[0], scale[1]) : new Proton.Scale(1, 0.2);\n            var colorB = color ? new Proton.Color(color[0], color[1]) : new Proton.Color(this.colors);\n\n            emitter.addBehaviour(alphaB);\n            emitter.addBehaviour(scaleB);\n            if (!body) emitter.addBehaviour(colorB);\n\n            if (rotate) {\n                if (rotate[0] === true || rotate[0] === \"rotate\") {\n                    emitter.addBehaviour(new Proton.Rotate());\n                } else {\n                    emitter.addBehaviour(new Proton.Rotate(rotate[0], rotate[1]));\n                }\n            }\n\n            var zone = new Proton.RectZone(0, 0, canvas.width, canvas.height);\n            var crossZoneBehaviour = new Proton.CrossZone(zone, cross);\n            emitter.addBehaviour(crossZoneBehaviour);\n\n            random && emitter.addBehaviour(new Proton.RandomDrift(random, random, 0.05));\n            g && emitter.addBehaviour(new Proton.G(g));\n            f && emitter.addBehaviour(new Proton.F(f[0], f[1]));\n\n            emitter.emit();\n            this.proton.addEmitter(emitter);\n\n            var renderer = this.createRenderer(canvas);\n            this.proton.addRenderer(renderer);\n\n            this.emitter = emitter;\n            this.crossZoneBehaviour = crossZoneBehaviour;\n        }\n    }, {\n        key: \"createRenderer\",\n        value: function createRenderer(canvas) {\n            var width = canvas.width;\n            var height = canvas.height;\n            var context = canvas.getContext(\"2d\");\n            var renderer = new Proton.CanvasRenderer(canvas);\n\n            var onUpdate = this.getProp(\"onUpdate\");\n            if (onUpdate) {\n                renderer.onProtonUpdate = function () {\n                    onUpdate(context, width, height);\n                };\n            }\n\n            var onParticleCreated = this.getProp(\"onParticleCreated\");\n            if (onParticleCreated) {\n                renderer.onParticleCreated = function (particle) {\n                    onParticleCreated(context, particle);\n                };\n            }\n\n            var onParticleUpdate = this.getProp(\"onParticleUpdate\");\n            if (onParticleUpdate) {\n                renderer.onParticleUpdate = function (particle) {\n                    onParticleUpdate(context, particle);\n                };\n            }\n\n            return renderer;\n        }\n    }, {\n        key: \"renderProton\",\n        value: function renderProton() {\n            this.proton && this.proton.update();\n        }\n    }, {\n        key: \"handleMouseDown\",\n        value: function handleMouseDown(e) {\n            var onMouseDown = this.getProp(\"onMouseDown\");\n            if (onMouseDown) {\n                onMouseDown(e);\n            }\n        }\n    }, {\n        key: \"render\",\n        value: function render() {\n            var globalCompositeOperation = this.props.globalCompositeOperation || this.props.operation || \"source-over\";\n\n            return React.createElement(Canvas, {\n                bg: this.props.bg,\n                onMouseDown: this.handleMouseDown.bind(this),\n                globalCompositeOperation: globalCompositeOperation,\n                onCanvasInited: this.onCanvasInited.bind(this),\n                onResize: this.onResize.bind(this)\n            });\n        }\n    }]);\n    return Color;\n}(React.Component);\n\nvar Lines = function (_React$Component) {\n  inherits(Lines, _React$Component);\n\n  function Lines(props) {\n    classCallCheck(this, Lines);\n\n    var _this = possibleConstructorReturn(this, (Lines.__proto__ || Object.getPrototypeOf(Lines)).call(this, props));\n\n    _this.renderProton = _this.renderProton.bind(_this);\n    return _this;\n  }\n\n  createClass(Lines, [{\n    key: \"onCanvasDidMount\",\n    value: function onCanvasDidMount(canvas) {\n      if (this.props.color) {\n        canvas.style.backgroundColor = this.props.color;\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      try {\n        RAFManager.remove(this.renderProton);\n        this.proton.destroy();\n      } catch (e) {}\n    }\n  }, {\n    key: \"onCanvasInited\",\n    value: function onCanvasInited(canvas, width, height) {\n      this.createProton(canvas, width, height);\n      RAFManager.add(this.renderProton);\n    }\n  }, {\n    key: \"onResize\",\n    value: function onResize(width, height) {\n      this.crossZoneBehaviour.zone.width = width;\n      this.crossZoneBehaviour.zone.height = height;\n      this.proton.renderers[0].resize(width, height);\n    }\n  }, {\n    key: \"createProton\",\n    value: function createProton(canvas, width, height) {\n      this.proton = new Proton();\n\n      var emitter = new Proton.Emitter();\n      emitter.damping = 0.008;\n      emitter.rate = new Proton.Rate(this.props.num ? this.props.num : 250);\n      emitter.addInitialize(new Proton.Mass(1));\n      emitter.addInitialize(new Proton.Radius(4));\n      emitter.addInitialize(new Proton.Velocity(new Proton.Span(1.5), new Proton.Span(0, 360), \"polar\"));\n      var mouseObj = {\n        x: width / 2,\n        y: height / 2\n      };\n\n      var attractionBehaviour = new Proton.Attraction(mouseObj, 0, 0);\n      var crossZoneBehaviour = new Proton.CrossZone(new Proton.RectZone(0, 0, canvas.width, canvas.height), \"cross\");\n      emitter.addBehaviour(new Proton.Color(\"random\"));\n      emitter.addBehaviour(attractionBehaviour, crossZoneBehaviour);\n      emitter.addBehaviour(new Proton.RandomDrift(10, 10, 0.05));\n      emitter.p.x = canvas.width / 2;\n      emitter.p.y = canvas.height / 2;\n      emitter.emit(\"once\");\n\n      this.proton.addEmitter(emitter);\n      this.proton.addRenderer(this.createRenderer(canvas));\n      this.crossZoneBehaviour = crossZoneBehaviour;\n    }\n  }, {\n    key: \"createRenderer\",\n    value: function createRenderer(canvas) {\n      var _this2 = this;\n\n      var context = canvas.getContext(\"2d\");\n      var renderer = new Proton.CanvasRenderer(canvas);\n      renderer.onProtonUpdate = function () {\n        context.fillStyle = getColor(_this2.props.color, 0.02) || \"rgba(0, 0, 0, 0.02)\";\n        context.fillRect(0, 0, canvas.width, canvas.height);\n      };\n\n      renderer.onParticleUpdate = function (particle) {\n        context.beginPath();\n        context.strokeStyle = particle.color;\n        context.lineWidth = 1;\n        context.moveTo(particle.old.p.x, particle.old.p.y);\n        context.lineTo(particle.p.x, particle.p.y);\n        context.closePath();\n        context.stroke();\n      };\n\n      return renderer;\n    }\n  }, {\n    key: \"renderProton\",\n    value: function renderProton() {\n      this.proton && this.proton.update();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(Canvas, { bg: this.props.bg,\n        globalCompositeOperation: \"darker\",\n        onCanvasDidMount: this.onCanvasDidMount.bind(this),\n        onCanvasInited: this.onCanvasInited.bind(this),\n        onResize: this.onResize.bind(this)\n      });\n    }\n  }]);\n  return Lines;\n}(React.Component);\n\nvar Thick = function (_React$Component) {\n  inherits(Thick, _React$Component);\n\n  function Thick(props) {\n    classCallCheck(this, Thick);\n\n    var _this = possibleConstructorReturn(this, (Thick.__proto__ || Object.getPrototypeOf(Thick)).call(this, props));\n\n    _this.hue = 0;\n    _this.index = 0;\n    _this.colorTemplate = \"hsla(hue,80%,50%, 0.75)\";\n    _this.renderProton = _this.renderProton.bind(_this);\n    return _this;\n  }\n\n  createClass(Thick, [{\n    key: \"onCanvasDidMount\",\n    value: function onCanvasDidMount(canvas) {\n      if (this.props.color) {\n        canvas.style.backgroundColor = this.props.color;\n      }\n    }\n  }, {\n    key: \"onCanvasInited\",\n    value: function onCanvasInited(canvas, width, height) {\n      this.canvas = canvas;\n      this.createProton(canvas, width, height);\n      RAFManager.add(this.renderProton);\n    }\n  }, {\n    key: \"onResize\",\n    value: function onResize(width, height) {\n      this.crossZoneBehaviour.zone.width = width;\n      this.crossZoneBehaviour.zone.height = height;\n      this.proton.renderers[0].resize(width, height);\n    }\n  }, {\n    key: \"createProton\",\n    value: function createProton(canvas, width, height) {\n      this.proton = new Proton();\n\n      var emitter = new Proton.Emitter();\n      emitter.damping = 0.008;\n      emitter.rate = new Proton.Rate(this.props.num ? this.props.num : 150);\n\n      // Initialize\n      emitter.addInitialize(new Proton.Mass(1));\n      emitter.addInitialize(new Proton.Radius(8));\n      emitter.addInitialize(new Proton.V(new Proton.Span(0.1, 0.5), new Proton.Span(0, 360), \"polar\"));\n      emitter.addInitialize(new Proton.Position(new Proton.CircleZone(canvas.width / 2, canvas.height / 2, 100)));\n\n      // Behaviour\n      var crossZoneBehaviour = new Proton.CrossZone(new Proton.RectZone(0, 0, canvas.width, canvas.height), \"cross\");\n      emitter.addBehaviour(crossZoneBehaviour);\n      this.repulsion = new Proton.Repulsion({\n        x: canvas.width / 2,\n        y: canvas.height / 2 - 100\n      }, 3, 300);\n\n      this.attraction = new Proton.Attraction({\n        x: canvas.width / 2,\n        y: canvas.height / 2\n      }, 3, 200);\n      emitter.addBehaviour(this.attraction, this.repulsion);\n      emitter.addBehaviour(new Proton.Color(\"random\"));\n      emitter.addBehaviour(new Proton.RandomDrift(20, 15, 0.15));\n\n      emitter.emit(\"once\");\n      this.proton.addEmitter(emitter);\n      this.proton.addRenderer(this.createRenderer(canvas));\n      this.crossZoneBehaviour = crossZoneBehaviour;\n    }\n  }, {\n    key: \"createRenderer\",\n    value: function createRenderer(canvas) {\n      var _this2 = this;\n\n      var context = canvas.getContext(\"2d\");\n      var renderer = new Proton.CanvasRenderer(canvas);\n\n      renderer.onProtonUpdate = function () {\n        _this2.hue += 1;\n        context.fillStyle = getColor(_this2.props.color, 0.02) || \"rgba(0, 0, 0, 0.02)\";\n        context.fillRect(0, 0, canvas.width, canvas.height);\n      };\n\n      renderer.onParticleCreated = function (particle) {\n        particle.data.begin = Proton.MathUtil.randomAToB(1, 120);\n        particle.data.tha = Proton.MathUtil.randomAToB(0, Math.PI * 2);\n      };\n\n      renderer.onParticleUpdate = function (particle) {\n        var hue = particle.data.begin + _this2.hue;\n        particle.color = _this2.colorTemplate.replace(\"hue\", hue % 360);\n\n        var ratio = 3 / 4;\n        var radius = particle.radius * (1 - ratio) * Math.cos(particle.data.tha += 0.01) + particle.radius * ratio;\n\n        context.beginPath();\n        context.fillStyle = particle.color;\n        context.arc(particle.p.x, particle.p.y, radius, 0, Math.PI * 2, true);\n        context.closePath();\n        context.fill();\n      };\n\n      return renderer;\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      try {\n        RAFManager.remove(this.renderProton);\n        this.proton.destroy();\n      } catch (e) {}\n    }\n  }, {\n    key: \"renderProton\",\n    value: function renderProton() {\n      var canvas = this.canvas;\n      this.proton.update();\n      if (this.index % 200 === 0) {\n        this.attraction.targetPosition.x = Math.random() * canvas.width;\n        this.attraction.targetPosition.y = Math.random() * canvas.height;\n\n        this.repulsion.targetPosition.x = Math.random() * canvas.width;\n        this.repulsion.targetPosition.y = Math.random() * canvas.height;\n      }\n\n      this.index++;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(Canvas, { bg: this.props.bg,\n        onCanvasDidMount: this.onCanvasDidMount.bind(this),\n        onCanvasInited: this.onCanvasInited.bind(this),\n        onResize: this.onResize.bind(this)\n      });\n    }\n  }]);\n  return Thick;\n}(React.Component);\n\nvar Square = function (_React$Component) {\n  inherits(Square, _React$Component);\n\n  function Square(props) {\n    classCallCheck(this, Square);\n\n    var _this = possibleConstructorReturn(this, (Square.__proto__ || Object.getPrototypeOf(Square)).call(this, props));\n\n    _this.colors = [\"#fad390\", \"#81ecec\", \"#ffffff\", \"#badc58\", \"#f9ca24\", \"#FEA47F\"];\n    _this.renderProton = _this.renderProton.bind(_this);\n    return _this;\n  }\n\n  createClass(Square, [{\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      try {\n        RAFManager.remove(this.renderProton);\n        this.proton.destroy();\n      } catch (e) {}\n    }\n  }, {\n    key: \"onCanvasDidMount\",\n    value: function onCanvasDidMount(canvas) {}\n  }, {\n    key: \"onCanvasInited\",\n    value: function onCanvasInited(canvas, width, height) {\n      this.createProton(canvas, width, height);\n      RAFManager.add(this.renderProton);\n    }\n  }, {\n    key: \"onResize\",\n    value: function onResize(width, height) {\n      var dis = 150;\n      this.crossZoneBehaviour.zone.width = width + 2 * dis;\n      this.crossZoneBehaviour.zone.height = height + 2 * dis;\n      this.proton.renderers[0].resize(width, height);\n    }\n  }, {\n    key: \"createProton\",\n    value: function createProton(canvas, width, height) {\n      this.proton = new Proton();\n      var emitter = new Proton.Emitter();\n      emitter.rate = new Proton.Rate(this.props.num ? this.props.num : 50);\n      emitter.damping = 0;\n\n      emitter.addInitialize(new Proton.Mass(1));\n      emitter.addInitialize(new Proton.Radius(4, 70));\n      emitter.addInitialize(new Proton.Velocity(new Proton.Span(2, 10), new Proton.Span(0), \"polar\"));\n      emitter.addInitialize(new Proton.Position(new Proton.LineZone(0, canvas.height, canvas.width, canvas.height)));\n\n      var dis = 150;\n      var crossZoneBehaviour = new Proton.CrossZone(new Proton.RectZone(0 - dis, 0 - dis, canvas.width + 2 * dis, canvas.height + 2 * dis), \"cross\");\n      emitter.addBehaviour(crossZoneBehaviour);\n      emitter.addBehaviour(new Proton.Alpha(Proton.getSpan(0.1, 0.55)));\n      emitter.addBehaviour(new Proton.Color(this.colors));\n\n      emitter.emit(\"once\");\n      this.proton.addEmitter(emitter);\n      var renderer = this.createRenderer(canvas);\n      this.proton.addRenderer(renderer);\n\n      this.crossZoneBehaviour = crossZoneBehaviour;\n      emitter.preEmit(2);\n    }\n  }, {\n    key: \"createRenderer\",\n    value: function createRenderer(canvas) {\n      var context = canvas.getContext(\"2d\");\n      var renderer = new Proton.CustomRenderer();\n\n      renderer.onProtonUpdate = function () {\n        context.clearRect(0, 0, canvas.width, canvas.height);\n      };\n\n      renderer.onParticleCreated = function (particle) {\n        var w = particle.radius || 60;\n        var h = Proton.MathUtil.randomAToB(100, 200, \"int\");\n        particle.data.w = w;\n        particle.data.h = h;\n      };\n\n      renderer.onParticleUpdate = function (particle) {\n        var w = particle.data.w;\n        var h = particle.data.h;\n        context.save();\n        context.globalAlpha = particle.alpha;\n        context.fillStyle = particle.color;\n\n        context.translate(particle.p.x, particle.p.y);\n        context.rotate(Proton.MathUtil.degreeTransform(particle.rotation));\n        context.translate(-particle.p.x, -particle.p.y);\n\n        context.beginPath();\n        context.rect(particle.p.x - w / 2, particle.p.y - h / 2, w, h);\n\n        context.closePath();\n        context.fill();\n        context.globalAlpha = 1;\n        context.restore();\n      };\n\n      return renderer;\n    }\n  }, {\n    key: \"renderProton\",\n    value: function renderProton() {\n      this.proton && this.proton.update();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(Canvas, { bg: this.props.bg,\n        globalCompositeOperation: \"lighter\",\n        onCanvasDidMount: this.onCanvasDidMount.bind(this),\n        onCanvasInited: this.onCanvasInited.bind(this),\n        onResize: this.onResize.bind(this)\n      });\n    }\n  }]);\n  return Square;\n}(React.Component);\n\nvar Cobweb = function (_React$Component) {\n  inherits(Cobweb, _React$Component);\n\n  function Cobweb(props) {\n    classCallCheck(this, Cobweb);\n\n    var _this = possibleConstructorReturn(this, (Cobweb.__proto__ || Object.getPrototypeOf(Cobweb)).call(this, props));\n\n    _this.renderProton = _this.renderProton.bind(_this);\n    return _this;\n  }\n\n  createClass(Cobweb, [{\n    key: \"onCanvasInited\",\n    value: function onCanvasInited(canvas, width, height) {\n      this.createProton(canvas, width, height);\n      RAFManager.add(this.renderProton);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      try {\n        RAFManager.remove(this.renderProton);\n        this.proton.destroy();\n      } catch (e) {}\n    }\n  }, {\n    key: \"onResize\",\n    value: function onResize(width, height) {\n      this.crossZoneBehaviour.zone.width = width;\n      this.crossZoneBehaviour.zone.height = height;\n      this.proton.renderers[0].resize(width, height);\n    }\n  }, {\n    key: \"createProton\",\n    value: function createProton(canvas, width, height) {\n      this.proton = new Proton();\n\n      var emitter = new Proton.Emitter();\n      emitter.rate = new Proton.Rate(this.props.num ? new Proton.Span(this.props.num) : new Proton.Span(100), new Proton.Span(0.05, 0.2));\n\n      emitter.addInitialize(new Proton.Mass(1));\n      emitter.addInitialize(new Proton.Radius(1, 4));\n      emitter.addInitialize(new Proton.Life(Infinity));\n\n      var pointZone = new Proton.Position(new Proton.RectZone(0, 0, width, height));\n      emitter.addInitialize(pointZone);\n      emitter.addInitialize(new Proton.Velocity(new Proton.Span(0.3, 0.6), new Proton.Span(0, 360), \"polar\"));\n\n      emitter.addBehaviour(new Proton.Alpha(Proton.getSpan(0.2, 0.9)));\n      emitter.addBehaviour(new Proton.Color(this.props.color || \"#333\"));\n      this.crossZoneBehaviour = new Proton.CrossZone(new Proton.RectZone(0, 0, width, height), \"cross\");\n      emitter.addBehaviour(this.crossZoneBehaviour);\n\n      emitter.emit(\"once\");\n      emitter.damping = 0;\n      this.proton.addEmitter(emitter);\n      this.proton.addRenderer(this.createRenderer(canvas, emitter));\n    }\n  }, {\n    key: \"createRenderer\",\n    value: function createRenderer(canvas, emitter) {\n      var _this2 = this;\n\n      var context = canvas.getContext(\"2d\");\n      var renderer = new Proton.CanvasRenderer(canvas);\n      var R = 140;\n\n      renderer.onProtonUpdateAfter = function () {\n        var particles = emitter.particles;\n\n        for (var i = 0; i < particles.length; i++) {\n          for (var j = i + 1; j < particles.length; j++) {\n            var pA = particles[i];\n            var pB = particles[j];\n            var dis = pA.p.distanceTo(pB.p);\n\n            if (dis < R) {\n              var alpha = (1 - dis / R) * 0.5;\n              context.strokeStyle = getColor(_this2.props.color, alpha) || \"rgba(3, 3, 3, \" + alpha + \")\";\n              context.beginPath();\n              context.moveTo(pA.p.x, pA.p.y);\n              context.lineTo(pB.p.x, pB.p.y);\n              context.closePath();\n              context.stroke();\n            }\n          }\n        }\n      };\n\n      return renderer;\n    }\n  }, {\n    key: \"renderProton\",\n    value: function renderProton() {\n      this.proton && this.proton.update();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(Canvas, { bg: this.props.bg,\n        globalCompositeOperation: \"darker\",\n        onCanvasInited: this.onCanvasInited.bind(this),\n        onResize: this.onResize.bind(this)\n      });\n    }\n  }]);\n  return Cobweb;\n}(React.Component);\n\nvar Circle = function (_React$Component) {\n  inherits(Circle, _React$Component);\n\n  function Circle(props) {\n    classCallCheck(this, Circle);\n\n    var _this = possibleConstructorReturn(this, (Circle.__proto__ || Object.getPrototypeOf(Circle)).call(this, props));\n\n    _this.colors = [\"#74b9ff\", \"#e84393\", \"#6c5ce7\", \"#00b894\", \"#fdcb6e\", \"#006266\", \"#1B1464\"];\n\n    _this.renderProton = _this.renderProton.bind(_this);\n    return _this;\n  }\n\n  createClass(Circle, [{\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      try {\n        RAFManager.remove(this.renderProton);\n        this.proton.destroy();\n      } catch (e) {}\n    }\n  }, {\n    key: \"onCanvasInited\",\n    value: function onCanvasInited(canvas, width, height) {\n      this.createProton(canvas, width, height);\n      RAFManager.add(this.renderProton);\n    }\n  }, {\n    key: \"onResize\",\n    value: function onResize(width, height) {\n      this.crossZoneBehaviour.zone.width = width;\n      this.crossZoneBehaviour.zone.height = height;\n      this.proton.renderers[0].resize(width, height);\n    }\n  }, {\n    key: \"createProton\",\n    value: function createProton(canvas, width, height) {\n      this.proton = new Proton();\n\n      var emitter = new Proton.Emitter();\n      emitter.rate = new Proton.Rate(this.props.num || 20);\n      emitter.damping = 0.008;\n\n      emitter.addInitialize(new Proton.Mass(1));\n      emitter.addInitialize(new Proton.Radius(30, 600));\n      emitter.addInitialize(new Proton.Velocity(new Proton.Span(0.5), new Proton.Span(0, 360), \"polar\"));\n      emitter.addInitialize(new Proton.Position(new Proton.RectZone(0, 0, canvas.width, canvas.height)));\n\n      var crossZoneBehaviour = new Proton.CrossZone(new Proton.RectZone(0, 0, canvas.width, canvas.height), \"cross\");\n      emitter.addBehaviour(crossZoneBehaviour);\n      emitter.addBehaviour(new Proton.Alpha(Proton.getSpan(0.35, 0.55)));\n      emitter.addBehaviour(new Proton.Color(this.getColor()));\n      emitter.addBehaviour(new Proton.RandomDrift(50, 50, 0.5));\n\n      emitter.emit(\"once\");\n      this.proton.addEmitter(emitter);\n\n      var renderer = new Proton.CanvasRenderer(canvas);\n      this.proton.addRenderer(renderer);\n\n      this.crossZoneBehaviour = crossZoneBehaviour;\n    }\n  }, {\n    key: \"getColor\",\n    value: function getColor() {\n      var c = this.colors;\n      if (this.props.color) {\n        if (Array.isArray(this.props.color)) {\n          c = this.props.color;\n        } else {\n          c = [this.props.color];\n        }\n      }\n\n      return c;\n    }\n  }, {\n    key: \"renderProton\",\n    value: function renderProton() {\n      this.proton && this.proton.update();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(Canvas, { bg: this.props.bg,\n        globalCompositeOperation: \"darken\",\n        onCanvasInited: this.onCanvasInited.bind(this),\n        onResize: this.onResize.bind(this)\n      });\n    }\n  }]);\n  return Circle;\n}(React.Component);\n\nvar Tadpole = function (_React$Component) {\n  inherits(Tadpole, _React$Component);\n\n  function Tadpole(props) {\n    classCallCheck(this, Tadpole);\n\n    var _this = possibleConstructorReturn(this, (Tadpole.__proto__ || Object.getPrototypeOf(Tadpole)).call(this, props));\n\n    _this.renderProton = _this.renderProton.bind(_this);\n    return _this;\n  }\n\n  createClass(Tadpole, [{\n    key: \"onCanvasDidMount\",\n    value: function onCanvasDidMount(canvas) {}\n  }, {\n    key: \"onCanvasInited\",\n    value: function onCanvasInited(canvas, width, height) {\n      this.createProton(canvas, width, height);\n      this.renderProton();\n    }\n  }, {\n    key: \"onResize\",\n    value: function onResize(width, height) {\n      this.crossZoneBehaviour.zone.width = width;\n      this.crossZoneBehaviour.zone.height = height;\n      this.proton.renderers[0].resize(width, height);\n    }\n  }, {\n    key: \"createProton\",\n    value: function createProton(canvas, width, height) {\n      this.proton = new Proton();\n\n      var emitter = new Proton.Emitter();\n      emitter.damping = 0.008;\n      emitter.rate = new Proton.Rate(this.props.num ? this.props.num : 50);\n      emitter.addInitialize(new Proton.Mass(1));\n      emitter.addInitialize(new Proton.Radius(5, 9));\n      emitter.addInitialize(new Proton.Velocity(new Proton.Span(1.5), new Proton.Span(0, 360), \"polar\"));\n      emitter.addInitialize(new Proton.Position(new Proton.RectZone(0, 0, width, height)));\n\n      var mouseInfo = {\n        x: width / 2,\n        y: height / 2\n      };\n\n      var attractionBehaviour = new Proton.Attraction(mouseInfo, 0, 0);\n      var crossZoneBehaviour = new Proton.CrossZone(new Proton.RectZone(0, 0, canvas.width, canvas.height), \"bound\");\n      emitter.addBehaviour(new Proton.Color(this.props.color || \"#bbb\"));\n      //emitter.addBehaviour(new Proton.Alpha(new Proton.Span(0.5, 1)));\n      emitter.addBehaviour(attractionBehaviour, crossZoneBehaviour);\n      emitter.addBehaviour(new Proton.RandomDrift(15, 15, 0.05));\n      emitter.emit(\"once\");\n\n      this.proton.addEmitter(emitter);\n      this.proton.addRenderer(this.createRenderer(canvas));\n      this.crossZoneBehaviour = crossZoneBehaviour;\n    }\n  }, {\n    key: \"createRenderer\",\n    value: function createRenderer(canvas) {\n      var jointCount = 10;\n      var delayTime = 8;\n      var context = canvas.getContext(\"2d\");\n      var renderer = new Proton.CanvasRenderer(canvas);\n\n      renderer.onProtonUpdate = function () {\n        context.clearRect(0, 0, canvas.width, canvas.height);\n      };\n\n      renderer.onParticleCreated = function (particle) {\n        particle.data.points = [];\n        particle.data.index = 0;\n      };\n\n      renderer.onParticleUpdate = function (particle) {\n        drawTadpoleTail(particle);\n        if (particle.data.index % delayTime === 0) fillPointsData(particle);\n        drawTadpoleHead(particle);\n        particle.data.index++;\n      };\n\n      var fillPointsData = function fillPointsData(particle) {\n        particle.data.points.unshift(particle.p.y);\n        particle.data.points.unshift(particle.p.x);\n\n        if (particle.data.points.length > jointCount) {\n          particle.data.points.pop();\n          particle.data.points.pop();\n        }\n      };\n\n      var drawTadpoleHead = function drawTadpoleHead(particle) {\n        context.fillStyle = particle.color;\n        context.beginPath();\n        context.arc(particle.p.x, particle.p.y, particle.radius, 0, Math.PI * 2, true);\n        context.closePath();\n        context.fill();\n      };\n\n      var drawTadpoleTail = function drawTadpoleTail(particle) {\n        context.beginPath();\n        context.strokeStyle = particle.color;\n\n        context.moveTo(particle.p.x, particle.p.y);\n\n        var l = particle.data.points.length;\n        for (var i = 0; i < l; i += 2) {\n          var x = particle.data.points[i];\n          var y = particle.data.points[i + 1];\n\n          context.lineWidth = linearEvaluation(i, l);\n          context.lineTo(x, y);\n          context.stroke();\n        }\n      };\n\n      var linearEvaluation = function linearEvaluation(i, l) {\n        if (l <= 2) return 1;\n\n        var max = 6;\n        var A = (max - 1) / (2 / l - 1);\n        var B = 1 - A;\n        var X = (i + 2) / l;\n        var val = A * X + B;\n        val = val >> 0;\n\n        return val;\n      };\n\n      return renderer;\n    }\n  }, {\n    key: \"renderProton\",\n    value: function renderProton() {\n      var _this2 = this;\n\n      RAFManager.add(function () {\n        _this2.proton.update();\n        //this.proton.stats.update();\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(Canvas, { bg: this.props.bg,\n        globalCompositeOperation: \"darker\",\n        onCanvasDidMount: this.onCanvasDidMount.bind(this),\n        onCanvasInited: this.onCanvasInited.bind(this),\n        onResize: this.onResize.bind(this)\n      });\n    }\n  }]);\n  return Tadpole;\n}(React.Component);\n\nvar COLOR = [\"#f6b93b\", \"#18dcff\", \"#cd84f1\", \"#ED4C67\", \"#ffffff\", \"#b71540\", \"#32ff7e\", \"#ff3838\"];\n\nvar Polygon = function (_React$Component) {\n  inherits(Polygon, _React$Component);\n\n  function Polygon(props) {\n    classCallCheck(this, Polygon);\n\n    var _this = possibleConstructorReturn(this, (Polygon.__proto__ || Object.getPrototypeOf(Polygon)).call(this, props));\n\n    _this.renderProton = _this.renderProton.bind(_this);\n    return _this;\n  }\n\n  createClass(Polygon, [{\n    key: \"onCanvasInited\",\n    value: function onCanvasInited(canvas, width, height) {\n      this.createProton(canvas);\n      this.createEmitter({\n        canvas: canvas,\n        x: width / 2,\n        y: height / 2,\n        mainEmitter: true,\n        zone: \"bound\"\n      });\n\n      RAFManager.add(this.renderProton);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      try {\n        RAFManager.remove(this.renderProton);\n        this.proton.destroy();\n      } catch (e) {}\n    }\n  }, {\n    key: \"onResize\",\n    value: function onResize() {}\n  }, {\n    key: \"createProton\",\n    value: function createProton(canvas) {\n      this.proton = new Proton();\n      var renderer = this.createRenderer(canvas);\n      this.proton.addRenderer(renderer);\n    }\n  }, {\n    key: \"createRenderer\",\n    value: function createRenderer(canvas) {\n      var context = canvas.getContext(\"2d\");\n      var renderer = new Proton.CustomRenderer();\n\n      renderer.onProtonUpdate = function () {\n        context.clearRect(0, 0, canvas.width, canvas.height);\n      };\n\n      renderer.onParticleCreated = function (particle) {\n        particle.data.count = Proton.MathUtil.randomAToB(3, 10, true);\n      };\n\n      renderer.onParticleUpdate = function (particle) {\n        context.save();\n        context.globalAlpha = particle.alpha;\n        context.fillStyle = particle.color;\n\n        context.translate(particle.p.x, particle.p.y);\n        context.rotate(Proton.MathUtil.degreeTransform(particle.rotation));\n        context.translate(-particle.p.x, -particle.p.y);\n\n        context.beginPath();\n        drawPolygon(particle, particle.data.count);\n\n        context.closePath();\n        context.fill();\n        context.globalAlpha = 1;\n        context.restore();\n      };\n\n      renderer.onParticleDead = function (particle) {};\n\n      var drawPolygon = function drawPolygon(particle, count) {\n        if (count >= 7) {\n          context.arc(particle.p.x, particle.p.y, particle.radius, 0, Math.PI * 2, true);\n        } else {\n          var radius = particle.radius;\n\n          for (var i = 0; i <= count; i++) {\n            var x = particle.p.x + radius * Math.cos(Math.PI / 180 * 360 / count * i);\n            var y = particle.p.y + radius * Math.sin(Math.PI / 180 * 360 / count * i);\n\n            if (i === 0) context.moveTo(x, y);else context.lineTo(x, y);\n          }\n        }\n      };\n\n      return renderer;\n    }\n  }, {\n    key: \"createEmitter\",\n    value: function createEmitter(_ref) {\n      var mainEmitter = _ref.mainEmitter,\n          canvas = _ref.canvas,\n          x = _ref.x,\n          y = _ref.y,\n          radius = _ref.radius,\n          _ref$color = _ref.color,\n          color = _ref$color === undefined ? COLOR : _ref$color,\n          _ref$zone = _ref.zone,\n          zone = _ref$zone === undefined ? \"dead\" : _ref$zone,\n          _ref$once = _ref.once,\n          once = _ref$once === undefined ? \"all\" : _ref$once,\n          _ref$alpha = _ref.alpha,\n          alpha = _ref$alpha === undefined ? 0.85 : _ref$alpha,\n          _ref$gravity = _ref.gravity,\n          gravity = _ref$gravity === undefined ? 3.5 : _ref$gravity;\n\n      var emitter = this.proton.pool.get(Proton.Emitter);\n\n      if (!emitter.completed) {\n        emitter.rate = new Proton.Rate(this.props.num ? new Proton.Span(this.props.num) : new Proton.Span(4, 9), new Proton.Span(1.6, 2.2));\n\n        var radiusInit = mainEmitter ? new Proton.Radius(10, 110) : new Proton.Radius(3, radius);\n        emitter.addInitialize(new Proton.Mass(1));\n        emitter.addInitialize(radiusInit);\n        emitter.addInitialize(new Proton.Life(3, 6));\n        emitter.addInitialize(new Proton.Velocity(new Proton.Span(4, 6), new Proton.Span(-90, 90), \"polar\"));\n\n        emitter.addBehaviour(new Proton.Alpha(alpha, 0.2));\n        emitter.addBehaviour(new Proton.Color(color));\n        emitter.addBehaviour(new Proton.Scale(1, 0.3));\n        emitter.addBehaviour(new Proton.Rotate());\n        emitter.addBehaviour(new Proton.Gravity(gravity));\n\n        emitter.addBehaviour(this.customDeadBehaviour(canvas));\n        emitter.addBehaviour(new Proton.CrossZone(new Proton.RectZone(0, 0, canvas.width, canvas.height), zone));\n      }\n\n      emitter.p.x = x;\n      emitter.p.y = y;\n      if (once === \"once\") emitter.emit(\"once\");else emitter.emit();\n\n      this.proton.addEmitter(emitter);\n      //this.expireEmitter(emitter);\n    }\n  }, {\n    key: \"expireEmitter\",\n    value: function expireEmitter(emitter) {\n      var _this2 = this;\n\n      setTimeout(function () {\n        emitter.completed = true;\n        _this2.proton.pool.expire(emitter);\n        _this2.proton.removeEmitter(emitter);\n      }, 500);\n    }\n  }, {\n    key: \"customDeadBehaviour\",\n    value: function customDeadBehaviour(canvas) {\n      var _this3 = this;\n\n      return {\n        initialize: function initialize(particle) {\n          particle.data = particle.data || {};\n          particle.data.oldRadius = particle.radius;\n          particle.data.emitterCount = 0;\n        },\n        applyBehaviour: function applyBehaviour(particle) {\n          if (particle.radius < 5) return;\n          if (particle.data.emitterCount >= 2) return;\n\n          if (particle.radius <= 1 / 3 * particle.data.oldRadius) {\n            particle.data.emitterCount++;\n            _this3.createEmitter({\n              canvas: canvas,\n              x: particle.p.x,\n              y: particle.p.y,\n              radius: particle.radius * (1 / 2),\n              alpha: 0.5,\n              gravity: 5,\n              color: particle.color,\n              once: \"once\"\n            });\n          }\n        }\n      };\n    }\n  }, {\n    key: \"renderProton\",\n    value: function renderProton() {\n      this.proton && this.proton.update();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(Canvas, { bg: this.props.bg,\n        globalCompositeOperation: \"darker\",\n        onCanvasInited: this.onCanvasInited.bind(this),\n        onResize: this.onResize.bind(this)\n      });\n    }\n  }]);\n  return Polygon;\n}(React.Component);\n\nvar Fountain = function (_React$Component) {\n  inherits(Fountain, _React$Component);\n\n  function Fountain(props) {\n    classCallCheck(this, Fountain);\n\n    var _this = possibleConstructorReturn(this, (Fountain.__proto__ || Object.getPrototypeOf(Fountain)).call(this, props));\n\n    _this.colors = [\"#529B88\", \"#CDD180\", \"#FFFA32\", \"#FB6255\", \"#FB4A53\", \"#FF4E50\", \"#F9D423\"];\n    _this.renderProton = _this.renderProton.bind(_this);\n    return _this;\n  }\n\n  createClass(Fountain, [{\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      try {\n        RAFManager.remove(this.renderProton);\n        this.proton.destroy();\n      } catch (e) {}\n    }\n  }, {\n    key: \"onCanvasInited\",\n    value: function onCanvasInited(canvas, width, height) {\n      this.createProton(canvas, width, height);\n      RAFManager.add(this.renderProton);\n    }\n  }, {\n    key: \"onResize\",\n    value: function onResize() {}\n  }, {\n    key: \"createProton\",\n    value: function createProton(canvas, width, height) {\n      this.proton = new Proton();\n      var emitter = new Proton.Emitter();\n      emitter.rate = new Proton.Rate(this.props.num ? new Proton.Span(this.props.num) : new Proton.Span(4, 8), new Proton.Span(0.1, 0.25));\n\n      emitter.addInitialize(new Proton.Mass(1));\n      emitter.addInitialize(new Proton.Radius(20, 200));\n      emitter.addInitialize(new Proton.Life(2, 4));\n      emitter.addInitialize(new Proton.Velocity(new Proton.Span(4, 7), new Proton.Span(0, 360), \"polar\"));\n      emitter.addInitialize(new Proton.Position(new Proton.CircleZone(width / 2, height / 2, 100)));\n\n      emitter.addBehaviour(new Proton.Alpha(1, 0));\n      emitter.addBehaviour(new Proton.Scale(0.2, 1));\n      emitter.addBehaviour(this.createCustomBehaviour());\n      emitter.addBehaviour(new Proton.Color(this.colors, \"random\"));\n      emitter.emit();\n      this.proton.addEmitter(emitter);\n\n      var renderer = new Proton.CanvasRenderer(canvas);\n      this.proton.addRenderer(renderer);\n    }\n  }, {\n    key: \"createCustomBehaviour\",\n    value: function createCustomBehaviour() {\n      var f = 10 * 100;\n      return {\n        initialize: function initialize(particle) {\n          particle.f = new Proton.Vector2D(0, 0);\n        },\n        applyBehaviour: function applyBehaviour(particle) {\n          var length = particle.v.length() / 1000;\n          var gradient = particle.v.getGradient();\n          gradient += 3.14 / 2;\n\n          particle.f.x = f * length * Math.cos(gradient);\n          particle.f.y = f * length * Math.sin(gradient);\n          particle.a.add(particle.f);\n        }\n      };\n    }\n  }, {\n    key: \"renderProton\",\n    value: function renderProton() {\n      this.proton && this.proton.update();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(Canvas, { bg: this.props.bg,\n        globalCompositeOperation: \"xor\",\n        onCanvasInited: this.onCanvasInited.bind(this),\n        onResize: this.onResize.bind(this)\n      });\n    }\n  }]);\n  return Fountain;\n}(React.Component);\n\nvar ParticlesBg = function (_Component) {\n  inherits(ParticlesBg, _Component);\n\n  function ParticlesBg(props) {\n    classCallCheck(this, ParticlesBg);\n    return possibleConstructorReturn(this, (ParticlesBg.__proto__ || Object.getPrototypeOf(ParticlesBg)).call(this, props));\n  }\n\n  createClass(ParticlesBg, [{\n    key: \"getRandom\",\n    value: function getRandom() {\n      var _props = this.props,\n          num = _props.num,\n          bg = _props.bg,\n          color = _props.color;\n\n      // Code source from here, thanks author\n      // https://github.com/drawcall/Proton/blob/gh-pages/source/src/utils/Rand.js\n\n      if (!this.random) {\n        this.random = new Rand();\n        this.random.set(0.25, React.createElement(Color, { num: num, bg: bg, color: color }));\n        this.random.set(0.2, React.createElement(Ball, { num: num, bg: bg, color: color }));\n        this.random.set(0.2, React.createElement(Lines, { num: num, bg: bg, color: color }));\n        this.random.set(0.16, React.createElement(Thick, { num: num, bg: bg, color: color }));\n        this.random.set(0.18, React.createElement(Circle, { num: num, bg: bg, color: color }));\n        this.random.set(0.04, React.createElement(Cobweb, { num: num, bg: bg, color: color }));\n        this.random.set(0.1, React.createElement(Polygon, { num: num, bg: bg, color: color }));\n        this.random.set(0.08, React.createElement(Square, { num: num, bg: bg, color: color }));\n        this.random.set(0.18, React.createElement(Tadpole, { num: num, bg: bg, color: color }));\n        this.random.set(0.15, React.createElement(Fountain, { num: num, bg: bg, color: color }));\n      }\n      return this.random.getResult();\n    }\n  }, {\n    key: \"getBgParticles\",\n    value: function getBgParticles() {\n      var _props2 = this.props,\n          type = _props2.type,\n          num = _props2.num,\n          bg = _props2.bg,\n          color = _props2.color,\n          config = _props2.config;\n\n\n      var particles = void 0;\n      switch (String(type).toLowerCase()) {\n        case \"color\":\n          particles = React.createElement(Color, { num: num, bg: bg, color: color });\n          break;\n        case \"ball\":\n          particles = React.createElement(Ball, { num: num, bg: bg, color: color });\n          break;\n        case \"lines\":\n          particles = React.createElement(Lines, { num: num, bg: bg, color: color });\n          break;\n        case \"thick\":\n          particles = React.createElement(Thick, { num: num, bg: bg, color: color });\n          break;\n        case \"circle\":\n          particles = React.createElement(Circle, { num: num, bg: bg, color: color });\n          break;\n        case \"cobweb\":\n          particles = React.createElement(Cobweb, { num: num, bg: bg, color: color });\n          break;\n        case \"polygon\":\n          particles = React.createElement(Polygon, { num: num, bg: bg, color: color });\n          break;\n        case \"square\":\n          particles = React.createElement(Square, { num: num, bg: bg, color: color });\n          break;\n        case \"tadpole\":\n          particles = React.createElement(Tadpole, { num: num, bg: bg, color: color });\n          break;\n        case \"fountain\":\n          particles = React.createElement(Fountain, { num: num, bg: bg, color: color });\n          break;\n        case \"custom\":\n          particles = React.createElement(Color$1, { bg: bg, config: config });\n          break;\n        case \"random\":\n          particles = this.getRandom(num);\n          break;\n\n        default:\n          particles = React.createElement(Color, { num: num, bg: bg, color: color });\n          break;\n      }\n\n      return particles;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var particles = this.getBgParticles();\n      return React.createElement(\n        React.Fragment,\n        null,\n        particles\n      );\n    }\n  }]);\n  return ParticlesBg;\n}(Component);\n\nexport default ParticlesBg;\n"]},"metadata":{},"sourceType":"module"}